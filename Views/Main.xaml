<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:s="clr-namespace:System;assembly=mscorlib"
    xmlns:p="clr-namespace:Playnite;assembly=Playnite"
    xmlns:pbeh="clr-namespace:Playnite.Behaviors;assembly=Playnite"
    xmlns:ctrl="clr-namespace:Playnite.FullscreenApp.Controls;assembly=Playnite.FullscreenApp"
    xmlns:pin="clr-namespace:Playnite.Input;assembly=Playnite"
    xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
    xmlns:prism="clr-namespace:Prism.Interactivity;assembly=Prism.Wpf"
    xmlns:Behaviors="clr-namespace:Microsoft.Xaml.Behaviors;assembly=Microsoft.Xaml.Behaviors"
    xmlns:BehaviorsCore="clr-namespace:Microsoft.Xaml.Behaviors.Core;assembly=Microsoft.Xaml.Behaviors"
    xmlns:BehaviorsMedia="clr-namespace:Microsoft.Xaml.Behaviors.Media;assembly=Microsoft.Xaml.Behaviors"
    mc:Ignorable="d">

    <!-- Définition du style pour le type Main -->
    <Style TargetType="{x:Type Main}">
        <Setter Property="Template">
            <Setter.Value>
                <!-- Définition du modèle de contrôle -->
                <ControlTemplate TargetType="{x:Type Main}">
                    <!-- Contenu du contrôle -->
                    <Grid x:Name="PART_MainHost"
                        d:DesignWidth="{StaticResource DesignWidth}"
                        d:DesignHeight="{StaticResource DesignHeight}"
                        d:DataContext="{x:Static DesignMainViewModel.DesignIntance}">


                        <!-- Style de la grille principale -->
                        <Grid.Style>
                            <Style TargetType="Grid">
                                <Setter Property="Background" Value="{DynamicResource OverlayMenu}" />
                                <!-- Déclencheurs de style -->
                                <Style.Triggers>
                                    <!-- Déclencheurs vides -->
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>

                        <Grid Name="IntroVideoBackground" Panel.ZIndex="99" Background="Black"
                            IsHitTestVisible="False">
                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Visibility" Value="Visible" />

                                    <Style.Triggers>
                                        <DataTrigger
                                            Binding="{Binding Opacity, ElementName=IntroVideo}"
                                            Value="1">
                                            <DataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation
                                                            Storyboard.TargetProperty="Opacity"
                                                            From="1.0" To="0.0" BeginTime="0:0:2"
                                                            Duration="0:0:2" />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                            <DataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames
                                                            Storyboard.TargetProperty="Visibility">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:2"
                                                                Value="{x:Static Visibility.Collapsed}" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.ExitActions>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                        </Grid>

                        <ContentControl x:Name="GAMEPAD_Confirm" Visibility="Collapsed">
                            <ContentControl.Style>
                                <Style TargetType="ContentControl">
                                    <Setter Property="Content" Value="A" />
                                    <Setter Property="Tag" Value="{DynamicResource ButtonPromptA}" />
                                    <Style.Triggers>
                                        <DataTrigger
                                            Binding="{Settings Fullscreen.SwapConfirmCancelButtons}"
                                            Value="True">
                                            <Setter Property="Content" Value="B" />
                                            <Setter Property="Tag" Value="{DynamicResource ButtonPromptB}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ContentControl.Style>
                        </ContentControl>

                        <ContentControl x:Name="GAMEPAD_Cancel" Visibility="Collapsed">
                            <ContentControl.Style>
                                <Style TargetType="ContentControl">
                                    <Setter Property="Content" Value="B" />
                                    <Setter Property="Tag" Value="{DynamicResource ButtonPromptB}" />
                                    <Style.Triggers>
                                        <DataTrigger
                                            Binding="{Settings Fullscreen.SwapConfirmCancelButtons}"
                                            Value="True">
                                            <Setter Property="Content" Value="A" />
                                            <Setter Property="Tag" Value="{DynamicResource ButtonPromptA}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ContentControl.Style>
                        </ContentControl>

                        <ContentControl x:Name="GAMEPAD_Filter" Visibility="Collapsed">
                            <ContentControl.Style>
                                <Style TargetType="ContentControl">
                                    <Setter Property="Content" Value="B" />
                                    <Setter Property="Tag" Value="{DynamicResource ButtonPromptB}" />
                                </Style>
                            </ContentControl.Style>
                        </ContentControl>


                        <ContentControl x:Name="GAMEPAD_Run" Visibility="Collapsed">
                            <ContentControl.Style>
                                <Style TargetType="ContentControl">
                                    <Setter Property="Content" Value="X" />
                                    <Setter Property="Tag" Value="{DynamicResource ButtonPromptX}" />
                                    <Style.Triggers>
                                        <DataTrigger
                                            Binding="{Settings Fullscreen.SwapStartDetailsAction}"
                                            Value="True">
                                            <Setter Property="Content" Value="A" />
                                            <Setter Property="Tag" Value="{DynamicResource ButtonPromptA}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ContentControl.Style>
                        </ContentControl>

                        <ContentControl x:Name="GAMEPAD_Details" Visibility="Collapsed">
                            <ContentControl.Style>
                                <Style TargetType="ContentControl">
                                    <Setter Property="Content" Value="A" />
                                    <Setter Property="Tag" Value="{DynamicResource ButtonPromptA}" />
                                    <Style.Triggers>
                                        <DataTrigger
                                            Binding="{Settings Fullscreen.SwapStartDetailsAction}"
                                            Value="True">
                                            <Setter Property="Content" Value="X" />
                                            <Setter Property="Tag" Value="{DynamicResource ButtonPromptX}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ContentControl.Style>
                        </ContentControl>


                        <!-- Grille pour la vidéo d'introduction -->
                        <!-- Grille pour la vidéo d'introduction -->
                        <Grid Name="IntroVideo" Panel.ZIndex="100">
                            <!-- Élément multimédia pour la vidéo -->
                            <MediaElement x:Name="IntroVideoElement"
                                Source="{ThemeFile 'Startup Video/IntroVideo.mp4'}"
                                Stretch="UniformToFill"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                SnapsToDevicePixels="True">
                                <!-- Style de l'élément multimédia -->
                                <MediaElement.Style>
                                    <Style TargetType="MediaElement">
                                        <Setter Property="Opacity" Value="1" />
                                        <!-- Déclencheurs de style pour l'élément multimédia -->
                                        <Style.Triggers>
                                            <!-- Déclencheur déclenché à la fin de la vidéo -->
                                            <EventTrigger RoutedEvent="MediaElement.MediaEnded">
                                                <!-- Début de l'animation -->
                                                <BeginStoryboard>
                                                    <!-- Storyboard pour l'animation de disparition -->
                                                    <Storyboard>
                                                        <!-- Animation de l'opacité -->
                                                        <DoubleAnimation
                                                            Storyboard.TargetProperty="Opacity"
                                                            From="1" To="0"
                                                            Duration="0:0:1.5"
                                                            FillBehavior="HoldEnd" />
                                                        <!-- Animation de la visibilité -->
                                                        <ObjectAnimationUsingKeyFrames
                                                            BeginTime="00:00:00"
                                                            Storyboard.TargetProperty="(UIElement.Visibility)">
                                                            <!-- Image visible -->
                                                            <DiscreteObjectKeyFrame
                                                                KeyTime="00:00:00"
                                                                Value="{x:Static Visibility.Visible}" />
                                                            <!-- Image cachée -->
                                                            <DiscreteObjectKeyFrame
                                                                KeyTime="00:00:0.5"
                                                                Value="{x:Static Visibility.Collapsed}" />
                                                        </ObjectAnimationUsingKeyFrames>

                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </MediaElement.Style>
                            </MediaElement>
                        </Grid>

                        <!-- Grille pour l'hôte de la vue -->

                        <Grid x:Name="PART_ViewHost">
                            <Grid>  <!-- Control grid-->
                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <Setter Property="Opacity" Value="1" />
                                        <Style.Triggers>

                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>
                                <Grid.InputBindings>
                                    <KeyBinding
                                        Key="{Binding ElementName=GAMEPAD_Run, Path=Content}"
                                        Command="{Binding OpenGameMenuCommand}" />
                                    <KeyBinding
                                        Key="{Binding ElementName=GAMEPAD_Details, Path=Content}"
                                        Command="{Binding ToggleGameDetailsCommand}" />
                                    <KeyBinding Key="Enter"
                                        Command="{Binding ActivateSelectedCommand}" />
                                    <pin:GameControllerInputBinding Button="Start"
                                        Command="{Binding OpenGameMenuCommand}" />
                                    <pin:GameControllerInputBinding
                                        Button="{Binding ElementName=GAMEPAD_Run, Path=Content}"
                                        Command="{Binding ActivateSelectedCommand}" />
                                    <pin:GameControllerInputBinding
                                        Button="{Binding ElementName=GAMEPAD_Details, Path=Content}"
                                        Command="{Binding ToggleGameDetailsCommand}" />
                                    <pin:GameControllerInputBinding
                                        Button="LeftShoulder"
                                        Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                        CommandParameter="{Binding ElementName=FILTER_Left}"
                                    />
                                    <pin:GameControllerInputBinding
                                        Button="RightShoulder"
                                        Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                        CommandParameter="{Binding ElementName=FILTER_Right}"
                                    />
                                    <pin:GameControllerInputBinding
                                        Button="{Binding ElementName=GAMEPAD_Filter, Path=Content}"
                                        Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                        CommandParameter="{Binding ElementName=FILTER_Show}"
                                    />
                                    <KeyBinding
                                        Key="{Binding ElementName=GAMEPAD_Filter, Path=Content}"
                                        Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                        CommandParameter="{Binding ElementName=FILTER_Show}"/>
                                    <KeyBinding
                                        Key="F2"
                                        Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                        CommandParameter="{Binding ElementName=FILTER_Left}" />
                                    <KeyBinding
                                        Key="F3"
                                        Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                        CommandParameter="{Binding ElementName=FILTER_Right}"
                                    />
                                </Grid.InputBindings>


                                <!-- Définition des lignes -->
                                <Grid.RowDefinitions>
                                    <!-- Première ligne -->
                                    <RowDefinition Height="100" />
                                    <!-- Deuxième ligne -->
                                    <RowDefinition Height="*" />
                                    <!-- Troisième ligne Cover -->
                                    <RowDefinition Height="360" />
                                    <!-- Quatrième ligne -->
                                    <RowDefinition Height="60" />
                                </Grid.RowDefinitions>

                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition>
                                        <ColumnDefinition.Style>
                                            <Style TargetType="ColumnDefinition">
                                                <Setter Property="Width" Value="Auto" />
                                                <Style.Triggers>

                                                </Style.Triggers>
                                            </Style>
                                        </ColumnDefinition.Style>
                                    </ColumnDefinition>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition>
                                        <ColumnDefinition.Style>
                                            <Style TargetType="ColumnDefinition">
                                                <Setter Property="Width" Value="Auto" />
                                                <Style.Triggers>

                                                </Style.Triggers>
                                            </Style>
                                        </ColumnDefinition.Style>
                                    </ColumnDefinition>
                                </Grid.ColumnDefinitions>


                                <ContentControl x:Name="ThemeOptions_Command" />

                                <Border RenderOptions.BitmapScalingMode="Fant">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="Visibility" Value="Visible" />
                                            <Setter Property="Opacity" Value="1" />
                                            <Setter Property="Background">
                                                <Setter.Value>
                                                    <!-- Fond -->
                                                    <ImageBrush
                                                        ImageSource="{ThemeFile 'Images/Interface.png'}"
                                                        Stretch="UniformToFill" />
                                                </Setter.Value>
                                            </Setter>
                                            <Setter Property="Panel.ZIndex" Value="-46" />
                                            <Setter Property="Grid.Row" Value="0" />
                                            <Setter Property="Grid.RowSpan" Value="5" />
                                            <Setter Property="Grid.ColumnSpan" Value="3" />
                                            <Style.Triggers>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_MainHost, Path=Visibility}"
                                                    Value="Visible">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <ThicknessAnimation
                                                                    Storyboard.TargetProperty="Margin"
                                                                    Duration="0:0:0.6"
                                                                    From="0,-90,0,0"
                                                                    To="0,0,0,0"
                                                                    DecelerationRatio="0.5"
                                                                    AccelerationRatio="0.5" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                    <DataTrigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <ThicknessAnimation
                                                                    Storyboard.TargetProperty="Margin"
                                                                    Duration="0:0:0.6"
                                                                    From="0,90,0,0"
                                                                    To="0,0,0,0"
                                                                    AccelerationRatio="0.5"
                                                                    DecelerationRatio="0.5" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.ExitActions>
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}"
                                                    Value="Visible">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                </Border>

                                <Grid FocusVisualStyle="{x:Null}" Panel.ZIndex="90" x:Name="TopButtonPanel">
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Opacity" Value="0" />
                                            <!-- <Setter Property="Margin" Value="0,0,0,30" /> -->
                                            <Setter Property="VerticalAlignment" Value="Stretch" />
                                            <Setter Property="Background" Value="Transparent" />
                                            <Setter Property="Grid.Row" Value="0" />
                                            <Setter Property="Grid.ColumnSpan" Value="3" />
                                            <Style.Triggers>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_MainHost, Path=Visibility}"
                                                    Value="Visible">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    BeginTime="0:0:0"
                                                                    Duration="0:0:1.5" To="1" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />     <!-- 0. Main menu -->
                                        <ColumnDefinition Width="Auto" />     <!-- 1. ChangeView button -->
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />     <!-- 3. Update button -->
                                        <ColumnDefinition Width="Auto" />     <!-- 4. Notification button -->
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />     <!-- 6. Battery text -->
                                        <ColumnDefinition Width="Auto" />     <!-- 7. Battery icon -->
                                        <ColumnDefinition Width="Auto" />     <!-- 8. Clock -->
                                        <ColumnDefinition Width="30" />
                                    </Grid.ColumnDefinitions>


                                    <ButtonEx x:Name="PART_ButtonMainMenu"
                                        VerticalAlignment="Center"
                                        Margin="30,0,0,0"
                                        Height="{DynamicResource ThemeBaseSizex2}"
                                        Width="{DynamicResource ThemeBaseSizex4}"
                                        Style="{DynamicResource ButtonAvatar}"
                                        Grid.Column="0">
                                        <ButtonEx.Content>
                                            <Image RenderOptions.BitmapScalingMode="Fant"
                                                Source="{ThemeFile 'Images/ASUS/rog-eye.png'}"
                                                Height="{DynamicResource ThemeBaseSizex2}"
                                                Width="{DynamicResource ThemeBaseSizex4}"
                                                Stretch="Uniform"
                                            />

                                        </ButtonEx.Content>
                                    </ButtonEx>

                                    <CheckBoxEx x:Name="ChangeViewButton" Margin="30,0,0,0"
                                        Height="{DynamicResource ThemeBaseSizex2}"
                                        Width="{DynamicResource ThemeBaseSizex2}"
                                        IsChecked="{Settings Fullscreen.HorizontalLayout, Mode=TwoWay}"
                                        Visibility="Visible"
                                        Style="{DynamicResource ChangeViewButton}" Grid.Column="1" />

                                    <CheckBoxEx x:Name="ChangeDetailsButton" Margin="30,0,0,0"
                                        Height="{DynamicResource ThemeBaseSizex2}"
                                        Width="{DynamicResource ThemeBaseSizex2}"
                                        IsChecked="{Settings Fullscreen.ShowGameTitles, Mode=TwoWay}"
                                        Visibility="Collapsed"
                                        Style="{DynamicResource ChangeDetailsButton}"
                                        Grid.Column="1" />

                                    <StackPanel x:Name="T_SwitchModes" Visibility="Collapsed">
                                        <RadioButton Content="Horizontal" GroupName="Group"
                                            IsChecked="{Settings Fullscreen.HorizontalLayout, Mode=TwoWay}" />
                                        <RadioButton Content="Details"
                                            IsChecked="{Settings Fullscreen.ShowGameTitles, Mode=OneWay}"
                                            Margin="0,5,0,0" />
                                        <RadioButton Content="Tiles" GroupName="Group"
                                            IsChecked="{Settings Fullscreen.ShowGameTitles, Mode=TwoWay, Converter={StaticResource NegateConverter}}"
                                            Margin="0,5,0,0" />
                                    </StackPanel>

                                    <!-- Filtre Bottom Bar-->
                                    <Grid>
                                        <Grid.Style>
                                            <Style TargetType="Grid">
                                                <Setter Property="Opacity" Value="0" />
                                                <Setter Property="HorizontalAlignment"
                                                    Value="Center" />
                                                <Setter Property="Grid.Row" Value="0" />
                                                <Setter Property="Grid.Column" Value="2" />
                                                <Setter Property="Effect">
                                                    <Setter.Value>
                                                        <DropShadowEffect ShadowDepth="2"
                                                            BlurRadius="0"
                                                            Opacity="1" Color="Black" />
                                                    </Setter.Value>
                                                </Setter>
                                                <Style.Triggers>
                                                    <DataTrigger
                                                        Binding="{Binding ElementName=PART_MainHost, Path=Visibility}"
                                                        Value="Visible">
                                                        <DataTrigger.EnterActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation
                                                                        Storyboard.TargetProperty="Opacity"
                                                                        BeginTime="0:0:1"
                                                                        Duration="0:0:0.5" To="1" />
                                                                    <ThicknessAnimation
                                                                        Storyboard.TargetProperty="Margin"
                                                                        BeginTime="0:0:3"
                                                                        AccelerationRatio="0.3"
                                                                        From="0,-120,0,0"
                                                                        Duration="0:0:1.5"
                                                                        DecelerationRatio="0.7" />
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </DataTrigger.EnterActions>
                                                    </DataTrigger>
                                                    <DataTrigger
                                                        Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}"
                                                        Value="Collapsed">
                                                        <DataTrigger.EnterActions>
                                                            <BeginStoryboard>
                                                                <Storyboard FillBehavior="Stop">

                                                                    <ThicknessAnimation
                                                                        Storyboard.TargetProperty="Margin"
                                                                        BeginTime="0:0:0"
                                                                        From="0,-120,0,0"
                                                                        Duration="0:0:1"
                                                                        AccelerationRatio="0.7"
                                                                        DecelerationRatio="0.3" />
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </DataTrigger.EnterActions>
                                                    </DataTrigger>
                                                    <DataTrigger
                                                        Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}"
                                                        Value="Visible">
                                                        <DataTrigger.EnterActions>
                                                            <BeginStoryboard>
                                                                <Storyboard FillBehavior="Stop">

                                                                    <ThicknessAnimation
                                                                        Storyboard.TargetProperty="Margin"
                                                                        BeginTime="0:0:0"
                                                                        From="0,0,0,0"
                                                                        To="0,-120,0,0"
                                                                        Duration="0:0:1"
                                                                        AccelerationRatio="0.5"
                                                                        DecelerationRatio="0.5" />
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </DataTrigger.EnterActions>
                                                    </DataTrigger>

                                                </Style.Triggers>
                                            </Style>
                                        </Grid.Style>

                                        <FilterPresetSelector x:Name="ItemsFilterPresets"
                                            Margin="0,0,0,0"
                                            Visibility="Collapsed"
                                            HorizontalAlignment="Center" FocusVisualStyle="{x:Null}" />
                                    </Grid>


                                    <ButtonEx x:Name="PART_ButtonProgramUpdate"
                                        VerticalAlignment="Center"
                                        Margin="0,0,0,0"
                                        Height="{DynamicResource ThemeBaseSizex2}"
                                        Width="{DynamicResource ThemeBaseSizex2}"
                                        Style="{DynamicResource ButtonMenu}"
                                        Grid.Column="3">
                                        <ButtonEx.Content>
                                            <TextBlock Text="&#xef08;"
                                                FontFamily="{StaticResource FontIcoFont}"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Foreground="#ff6b6b"
                                                FontSize="{DynamicResource FontSizeLarge}" />
                                        </ButtonEx.Content>
                                    </ButtonEx>

                                    <ButtonEx x:Name="PART_ButtonNotifications"
                                        VerticalAlignment="Center"
                                        Margin="30,0,0,0"
                                        Height="{DynamicResource ThemeBaseSizex2}"
                                        Width="{DynamicResource ThemeBaseSizex2}"
                                        Focusable="True"
                                        Grid.Column="4">
                                        <Button.Content>
                                            <Grid>
                                                <TextBlock Text="&#xeea3;"
                                                    FontFamily="{StaticResource FontIcoFont}"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    FontSize="{DynamicResource FontSizeLarge}" />
                                                <TextBlock Text="&#x25CF;"
                                                    Foreground="{DynamicResource GlyphBrush}"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Bottom"
                                                    FontSize="{DynamicResource FontSizeSmall}"
                                                    Margin="20,20,0,0" />
                                            </Grid>
                                        </Button.Content>
                                        <Button.Style>
                                            <Style TargetType="Button"
                                                BasedOn="{StaticResource ButtonAvatar}">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Api Notifications.Count}"
                                                        Value="0">
                                                        <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Button.Style>
                                    </ButtonEx>

                                    <!-- PART_ElemBatteryStatus -->
                                    <TextBlock x:Name="PART_TextBatteryPercentage"
                                        Style="{DynamicResource ThemeTextBlockBaseStyle}"
                                        VerticalAlignment="Center" Margin="30,-10,0,0"
                                        Grid.Column="6">
                                    </TextBlock>
                                    <ContentControl x:Name="PART_ElemBatteryStatus"
                                        Focusable="False" FontSize="{DynamicResource FontSizeLarge}"
                                        VerticalAlignment="Center" Margin="0,-8,0,0"
                                        Grid.Column="7">
                                        <ContentControl.Style>
                                            <Style TargetType="ContentControl">
                                                <Setter Property="Foreground"
                                                    Value="{DynamicResource TextBrush}" />
                                                <Style.Triggers>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition
                                                                Binding="{Binding PowerStatus.Charge}"
                                                                Value="Critical" />
                                                            <Condition
                                                                Binding="{Binding PowerStatus.IsCharging}"
                                                                Value="False" />
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Content">
                                                            <Setter.Value>
                                                                <Image
                                                                    Source="{ThemeFile 'Images/ASUS/asus_cac_si_status_20.png'}"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Height="{DynamicResource ThemeBaseSizex2}" />
                                                            </Setter.Value>
                                                        </Setter>
                                                    </MultiDataTrigger>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition
                                                                Binding="{Binding PowerStatus.Charge}"
                                                                Value="Low" />
                                                            <Condition
                                                                Binding="{Binding PowerStatus.IsCharging}"
                                                                Value="False" />
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Content">
                                                            <Setter.Value>
                                                                <Image
                                                                    Source="{ThemeFile 'Images/ASUS/asus_cac_si_status_40.png'}"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Height="{DynamicResource ThemeBaseSizex2}" />
                                                            </Setter.Value>
                                                        </Setter>
                                                    </MultiDataTrigger>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition
                                                                Binding="{Binding PowerStatus.Charge}"
                                                                Value="Medium" />
                                                            <Condition
                                                                Binding="{Binding PowerStatus.IsCharging}"
                                                                Value="False" />
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Content">
                                                            <Setter.Value>
                                                                <Image
                                                                    Source="{ThemeFile 'Images/ASUS/asus_cac_si_status_60.png'}"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Height="{DynamicResource ThemeBaseSizex2}" />
                                                            </Setter.Value>
                                                        </Setter>
                                                    </MultiDataTrigger>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition
                                                                Binding="{Binding PowerStatus.Charge}"
                                                                Value="High" />
                                                            <Condition
                                                                Binding="{Binding PowerStatus.IsCharging}"
                                                                Value="False" />
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Content">
                                                            <Setter.Value>
                                                                <Image
                                                                    Source="{ThemeFile 'Images/ASUS/asus_cac_si_status_100.png'}"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Height="{DynamicResource ThemeBaseSizex2}" />
                                                            </Setter.Value>
                                                        </Setter>
                                                    </MultiDataTrigger>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition
                                                                Binding="{Binding PowerStatus.Charge}"
                                                                Value="Critical" />
                                                            <Condition
                                                                Binding="{Binding PowerStatus.IsCharging}"
                                                                Value="True" />
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Content">
                                                            <Setter.Value>
                                                                <Image
                                                                    Source="{ThemeFile 'Images/ASUS/asus_cac_si_status_20_charging.png'}"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Height="{DynamicResource ThemeBaseSizex2}" />
                                                            </Setter.Value>
                                                        </Setter>
                                                    </MultiDataTrigger>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition
                                                                Binding="{Binding PowerStatus.Charge}"
                                                                Value="Low" />
                                                            <Condition
                                                                Binding="{Binding PowerStatus.IsCharging}"
                                                                Value="True" />
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Content">
                                                            <Setter.Value>
                                                                <Image
                                                                    Source="{ThemeFile 'Images/ASUS/asus_cac_si_status_40_charging.png'}"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Height="{DynamicResource ThemeBaseSizex2}" />
                                                            </Setter.Value>
                                                        </Setter>
                                                    </MultiDataTrigger>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition
                                                                Binding="{Binding PowerStatus.Charge}"
                                                                Value="Medium" />
                                                            <Condition
                                                                Binding="{Binding PowerStatus.IsCharging}"
                                                                Value="True" />
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Content">
                                                            <Setter.Value>
                                                                <Image
                                                                    Source="{ThemeFile 'Images/ASUS/asus_cac_si_status_60_charging.png'}"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Height="{DynamicResource ThemeBaseSizex2}" />
                                                            </Setter.Value>
                                                        </Setter>
                                                    </MultiDataTrigger>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition
                                                                Binding="{Binding PowerStatus.Charge}"
                                                                Value="High" />
                                                            <Condition
                                                                Binding="{Binding PowerStatus.IsCharging}"
                                                                Value="True" />
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Content">
                                                            <Setter.Value>
                                                                <Image
                                                                    Source="{ThemeFile 'Images/ASUS/asus_cac_si_status_100_charging.png'}"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Height="{DynamicResource ThemeBaseSizex2}" />
                                                            </Setter.Value>
                                                        </Setter>
                                                    </MultiDataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </ContentControl.Style>
                                    </ContentControl>

                                </Grid>

                                <Grid x:Name="SongTitle" FocusVisualStyle="{x:Null}"
                                    Grid.Column="0"
                                    Grid.Row="0"
                                    Grid.ColumnSpan="3"
                                    Grid.RowSpan="3"
                                    Panel.ZIndex="100"
                                    Margin="-1024,0,1024,0"
                                >
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Style.Triggers>
                                                <EventTrigger RoutedEvent="Binding.TargetUpdated">
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <ThicknessAnimation
                                                                Storyboard.TargetProperty="Margin"
                                                                To="0,80,0,0"
                                                                Duration="0:0:0.5"
                                                                AccelerationRatio="0.3"
                                                                DecelerationRatio="0.7" />
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="Opacity"
                                                                Duration="0:0:0.5"
                                                                To="1" />
                                                            <ThicknessAnimation
                                                                Storyboard.TargetProperty="Margin"
                                                                To="1024,80,-1024,0"
                                                                Duration="0:0:0.5"
                                                                BeginTime="0:0:5"
                                                                AccelerationRatio="0.7"
                                                                DecelerationRatio="0.3"
                                                            />
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="Opacity"
                                                                Duration="0:0:0.5"
                                                                BeginTime="0:0:5"
                                                                To="0"
                                                            />
                                                            <ThicknessAnimation
                                                                Storyboard.TargetProperty="Margin"
                                                                From="-1024,80,1024,0"
                                                                To="-1024,80,1024,0"
                                                                Duration="0:0:0"
                                                                BeginTime="0:0:5.5"
                                                            />
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </EventTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=Sounds_MusicControl, Path=Content.CurrentMusicName}"
                                                    Value="">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>

                                    <Grid VerticalAlignment="Top" HorizontalAlignment="Center"
                                        Height="70">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <Border Opacity="0.8" Grid.ColumnSpan="2">
                                            <Border.Background>
                                                <ImageBrush
                                                    ImageSource="{ThemeFile 'Images/Interface.png'}"
                                                    Stretch="UniformToFill" />
                                            </Border.Background>
                                        </Border>
                                        <ContentControl x:Name="Sounds_MusicControl" />
                                        <Image Source="{ThemeFile 'Images/FullVolume.png'}"
                                            Grid.Column="0"
                                            Height="{DynamicResource FontSizeLarge}"
                                            Width="{DynamicResource FontSizeLarge}"
                                            RenderOptions.BitmapScalingMode="Fant" Stretch="Uniform"
                                            VerticalAlignment="Center"
                                            Margin="20, 5, 0, 0" />
                                        <TextBlock
                                            Grid.Column="1"
                                            Text="{Binding ElementName=Sounds_MusicControl, Path=Content.CurrentMusicName, NotifyOnTargetUpdated=True}"
                                            Style="{DynamicResource TextBlockBoldBaseStyle}"
                                            VerticalAlignment="Center"
                                            Margin="10,0,20,0"
                                        >
                                            <TextBlock.LayoutTransform>
                                                <ScaleTransform ScaleX="0.85" />
                                            </TextBlock.LayoutTransform>
                                        </TextBlock>
                                    </Grid>
                                </Grid>

                                <ContentControl x:Name="ThemeOptions_AutoFilter" />

                                <TextBlock Foreground="White" FontSize="28" Text="{Binding ElementName=ThemeOptions_AutoFilter, Path=Content.ActiveFilter.Name}" />

                                <Grid x:Name="FILTER_GRID" FocusVisualStyle="{x:Null}"
                                    Grid.Column="0"
                                    Grid.Row="0"
                                    Grid.ColumnSpan="3"
                                    Grid.RowSpan="4"
                                    Panel.ZIndex="2"
                                    Opacity="0.999"
                                    Focusable="True"
                                    pbeh:FocusBahaviors.FocusBinding="{Binding IsEnabled, RelativeSource={RelativeSource Self}}"
                                >
                                    <Grid.Resources>
                                        <Storyboard x:Key="FILTER_SwipeLeft"
                                            TargetName="FILTER_GRID">
                                            <ThicknessAnimation
                                                Storyboard.TargetProperty="Margin"
                                                Storyboard.TargetName="FILTER_NameImageGrid"
                                                To="1920,0,-1920,0"
                                                Duration="0:0:0.25"
                                                AccelerationRatio="0.9" />
                                            <ThicknessAnimation
                                                Storyboard.TargetProperty="Margin"
                                                Storyboard.TargetName="FILTER_BackgroundImage"
                                                To="0,-25,-50,-25"
                                                Duration="0:0:0.25"
                                                BeginTime="0:0:0"
                                            />

                                            <ObjectAnimationUsingKeyFrames
                                                Storyboard.TargetName="FILTER_CurrentName"
                                                Storyboard.TargetProperty="Tag">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                    Value="{Binding Tag, ElementName=FILTER_PreviousName}" />
                                            </ObjectAnimationUsingKeyFrames>

                                            <ObjectAnimationUsingKeyFrames
                                                Storyboard.TargetName="FILTER_CurrentName"
                                                Storyboard.TargetProperty="Tag">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0.25"
                                                    Value="{Binding Tag, ElementName=FILTER_Actual}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ThicknessAnimation
                                                Storyboard.TargetProperty="Margin"
                                                Storyboard.TargetName="FILTER_NameImageGrid"
                                                From="-1920,0,1920,0"
                                                To="0,0,0,0"
                                                Duration="0:0:0.25"
                                                BeginTime="0:0:0.25"
                                            />
                                            <ThicknessAnimation
                                                Storyboard.TargetProperty="Margin"
                                                Storyboard.TargetName="FILTER_BackgroundImage"
                                                From="-50,-25,0,-25"
                                                To="-25"
                                                Duration="0:0:0.25"
                                                BeginTime="0:0:0.25"
                                            />
                                            <ThicknessAnimation
                                                Storyboard.TargetProperty="Margin"
                                                Storyboard.TargetName="FILTER_GameCount"
                                                From="-3900,0,3900,60"
                                                To="0,0,0,60"
                                                Duration="0:0:0.5"
                                                BeginTime="0:0:0"
                                            />
                                            <DoubleAnimation
                                                Storyboard.TargetName="FILTER_GameCount"
                                                Storyboard.TargetProperty="Opacity"
                                                Duration="0:0:2"
                                                AccelerationRatio="0.5"
                                                From="0" To="1"
                                            />

                                        </Storyboard>
                                        <Storyboard x:Key="FILTER_SwipeRight"
                                            TargetName="FILTER_GRID">
                                            <ThicknessAnimation
                                                Storyboard.TargetProperty="Margin"
                                                Storyboard.TargetName="FILTER_NameImageGrid"
                                                To="-1920,0,1920,0"
                                                Duration="0:0:0.25"
                                                AccelerationRatio="0.9" />
                                            <ThicknessAnimation
                                                Storyboard.TargetProperty="Margin"
                                                Storyboard.TargetName="FILTER_BackgroundImage"
                                                To="-50,-25,0,-25"
                                                Duration="0:0:0.25"
                                                BeginTime="0:0:0"
                                            />

                                            <ObjectAnimationUsingKeyFrames
                                                Storyboard.TargetName="FILTER_CurrentName"
                                                Storyboard.TargetProperty="Tag">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                    Value="{Binding Tag, ElementName=FILTER_PreviousName}" />
                                            </ObjectAnimationUsingKeyFrames>

                                            <ObjectAnimationUsingKeyFrames
                                                Storyboard.TargetName="FILTER_CurrentName"
                                                Storyboard.TargetProperty="Tag">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0.25"
                                                    Value="{Binding Tag, ElementName=FILTER_Actual}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ThicknessAnimation
                                                Storyboard.TargetProperty="Margin"
                                                Storyboard.TargetName="FILTER_NameImageGrid"
                                                From="1920,0,-1920,0"
                                                To="0,0,0,0"
                                                Duration="0:0:0.25"
                                                BeginTime="0:0:0.25"
                                                DecelerationRatio="0.3" />
                                            <ThicknessAnimation
                                                Storyboard.TargetProperty="Margin"
                                                Storyboard.TargetName="FILTER_BackgroundImage"
                                                From="0,-25,-50,-25"
                                                To="-25"
                                                Duration="0:0:0.25"
                                                BeginTime="0:0:0.25"
                                            />
                                            <ThicknessAnimation
                                                Storyboard.TargetProperty="Margin"
                                                Storyboard.TargetName="FILTER_GameCount"
                                                From="3900,0,-3900,60"
                                                To="0,0,0,60"
                                                Duration="0:0:0.5"
                                                BeginTime="0:0:0"
                                            />
                                            <DoubleAnimation
                                                Storyboard.TargetName="FILTER_GameCount"
                                                Storyboard.TargetProperty="Opacity"
                                                Duration="0:0:2"
                                                AccelerationRatio="0.5"
                                                From="0" To="1"
                                            />

                                        </Storyboard>
                                        <p:BindingProxy x:Key="FILTER_ActualImagePath"
                                            Data="{Binding ElementName=FILTER_CurrentName}" />
                                        <p:BindingProxy x:Key="FILTER_PreviousImagePath"
                                            Data="{Binding ElementName=FILTER_PreviousName}" />

                                    </Grid.Resources>

                                    <Grid.InputBindings>
                                        <pin:GameControllerInputBinding
                                            Button="LeftShoulder"
                                            Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                            CommandParameter="{Binding ElementName=FILTER_Left}"
                                        />
                                        <pin:GameControllerInputBinding
                                            Button="RightShoulder"
                                            Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                            CommandParameter="{Binding ElementName=FILTER_Right}"
                                        />
                                        <pin:GameControllerInputBinding
                                            Button="{Binding ElementName=GAMEPAD_Filter, Path=Content}"
                                            Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                            CommandParameter="{Binding ElementName=FILTER_Show}"
                                        />
                                        <pin:GameControllerInputBinding
                                            Button="{Binding ElementName=GAMEPAD_Confirm, Path=Content}"
                                            Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                            CommandParameter="{Binding ElementName=FILTER_Hide}"
                                        />
                                        <pin:GameControllerInputBinding
                                            Button="DPadLeft"
                                            Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                            CommandParameter="{Binding ElementName=FILTER_Left}"
                                        />
                                        <pin:GameControllerInputBinding
                                            Button="DPadRight"
                                            Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                            CommandParameter="{Binding ElementName=FILTER_Right}"
                                        />
                                        <KeyBinding
                                            Key="{Binding ElementName=GAMEPAD_Filter, Path=Content}"
                                            Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                            CommandParameter="{Binding ElementName=FILTER_Show}"/>
                                        <KeyBinding
                                            Key="F2"
                                            Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                            CommandParameter="{Binding ElementName=FILTER_Left}" />
                                        <KeyBinding
                                            Key="F3"
                                            Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                            CommandParameter="{Binding ElementName=FILTER_Right}"
                                        />
                                        <KeyBinding
                                            Key="Enter"
                                            Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                            CommandParameter="{Binding ElementName=FILTER_Hide}"
                                        />

                                    </Grid.InputBindings>
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <!-- <Setter Property="Focusable" Value="True" /> -->
                                            <Setter Property="IsEnabled" Value="False" />
                                            <Setter Property="Visibility" Value="Visible" />
                                            <Setter Property="Margin" Value="0,10,0,1000"/>
                                            <Style.Triggers>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>

                                    <StackPanel>
                                        <ContentControl
                                            x:Name="FILTER_Visible"
                                            Visibility="Collapsed"
                                            Opacity="0"
                                        />
                                        <ContentControl
                                            x:Name="FILTER_Direction"
                                            Visibility="Collapsed"
                                            Content="{StaticResource FILTER_SwipeLeft}"
                                        />
                                        <ContentControl
                                            x:Name="FILTER_PreviousName"
                                            Visibility="Collapsed"
                                        />
                                        <ContentControl
                                            x:Name="FILTER_CurrentName"
                                            Visibility="Collapsed"
                                            Tag="{Binding ActiveFilterPreset.Name, FallbackValue='None', TargetNullValue='None'}"
                                        />

                                        <ContentControl
                                            x:Name="FILTER_Show"
                                            Tag="{Binding NotifyOnTargetUpdated=true}"
                                            Visibility="Collapsed" >
                                            <Behaviors:Interaction.Triggers>
                                                <Behaviors:EventTrigger EventName="TargetUpdated">
                                                    <BehaviorsCore:ChangePropertyAction
                                                        TargetObject="{Binding ElementName=FILTER_Visible}"
                                                        PropertyName="Visibility" Value="Visible"
                                                    />
                                                </Behaviors:EventTrigger>
                                            </Behaviors:Interaction.Triggers>
                                        </ContentControl>

                                        <ContentControl
                                            x:Name="FILTER_Hide"
                                            Tag="{Binding NotifyOnTargetUpdated=true}"
                                            Visibility="Collapsed">
                                            <Behaviors:Interaction.Triggers>
                                                <Behaviors:EventTrigger EventName="TargetUpdated">
                                                    <BehaviorsCore:ChangePropertyAction
                                                        TargetObject="{Binding ElementName=FILTER_Visible}"
                                                        PropertyName="Visibility" Value="Collapsed"
                                                    />
                                                </Behaviors:EventTrigger>
                                            </Behaviors:Interaction.Triggers>
                                        </ContentControl>


                                        <ContentControl
                                            x:Name="FILTER_Left"
                                            Tag="{Binding NotifyOnTargetUpdated=true}"
                                            Visibility="Collapsed">
                                            <Behaviors:Interaction.Triggers>
                                                <Behaviors:EventTrigger EventName="TargetUpdated">
                                                    <BehaviorsCore:ChangePropertyAction
                                                        TargetObject="{Binding ElementName=FILTER_PreviousName}"
                                                        PropertyName="Tag"
                                                        Value="{Binding Tag, ElementName=FILTER_CurrentName}"
                                                    />
                                                    <BehaviorsCore:ChangePropertyAction
                                                        TargetObject="{Binding ElementName=FILTER_Direction}"
                                                        PropertyName="Content"
                                                        Value="{DynamicResource FILTER_SwipeLeft}"
                                                    />
                                                    <Behaviors:InvokeCommandAction
                                                        Command="{Binding PrevFilterViewCommand}" />
                                                </Behaviors:EventTrigger>
                                            </Behaviors:Interaction.Triggers>
                                        </ContentControl>

                                        <ContentControl
                                            x:Name="FILTER_Right"
                                            Tag="{Binding NotifyOnTargetUpdated=true}"
                                            Visibility="Collapsed">
                                            <Behaviors:Interaction.Triggers>
                                                <Behaviors:EventTrigger EventName="TargetUpdated">
                                                    <BehaviorsCore:ChangePropertyAction
                                                        TargetObject="{Binding ElementName=FILTER_PreviousName}"
                                                        PropertyName="Tag"
                                                        Value="{Binding Tag, ElementName=FILTER_CurrentName}"
                                                    />
                                                    <BehaviorsCore:ChangePropertyAction
                                                        TargetObject="{Binding ElementName=FILTER_Direction}"
                                                        PropertyName="Content"
                                                        Value="{DynamicResource FILTER_SwipeRight}"
                                                    />
                                                    <Behaviors:InvokeCommandAction
                                                        Command="{Binding NextFilterViewCommand}" />
                                                </Behaviors:EventTrigger>
                                            </Behaviors:Interaction.Triggers>
                                        </ContentControl>

                                        <!-- <ContentControl x:Name="FILTER_Search">
                                            <ContentControl.Style>
                                                <Style TargetType="ContentControl">
                                                    <Setter Property="Tag" Value="{Binding ActiveFilterPreset.Name}" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding IsSearchActive}" Value="True">
                                                            <Setter Property="Tag" Value="{Binding AppSettings.Fullscreen.FilterSettings.Name}"/>
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding ActiveFilterPreset.Name}" Value="{x:Null}">
                                                            <Setter Property="Tag" Value="No Filter"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </ContentControl.Style>
                                        </ContentControl> -->


                                        <ContentControl x:Name="FILTER_Actual"
                                            Visibility="Collapsed"
                                            Tag="{Binding ActiveFilterPreset.Name, NotifyOnTargetUpdated=true}"
                                        >
                                            <Behaviors:Interaction.Triggers>
                                                <Behaviors:EventTrigger EventName="TargetUpdated">
                                                    <BehaviorsMedia:ControlStoryboardAction
                                                        Storyboard="{Binding ElementName=FILTER_Direction, Path=Content}"
                                                        ControlStoryboardOption="Play"
                                                    />
                                                </Behaviors:EventTrigger>
                                            </Behaviors:Interaction.Triggers>
                                        </ContentControl>

                                    </StackPanel>
                                    <Grid>
                                        <Image x:Name="FILTER_BackgroundImage"
                                            RenderOptions.BitmapScalingMode="Fant"
                                            RenderTransformOrigin="0.5,0.5"
                                            Stretch="UniformToFill"
                                            Source="{ThemeFileBinding Data.Tag, Source={StaticResource FILTER_ActualImagePath}, PathFormat='Icons/FilterBackground/{0}.jpg'}"
                                            HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Margin" Value="-25" />
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </Style>
                                            </Image.Style>
                                        </Image>

                                        <Grid x:Name="FILTER_NameImageGrid">
                                            <Image x:Name="FilterImage"
                                                RenderOptions.BitmapScalingMode="Fant"
                                                RenderTransformOrigin="0.5,0.5"
                                                Stretch="Uniform"
                                                MaxHeight="300"
                                                Source="{ThemeFileBinding Data.Tag, Source={StaticResource FILTER_ActualImagePath}, PathFormat='Icons/Filter/{0}.png'}"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center">
                                            </Image>
                                            <Viewbox VerticalAlignment="Center">
                                                <TextBlock
                                                    Text="{Binding Data.Tag, Source={StaticResource FILTER_ActualImagePath}}"
                                                    TextWrapping="WrapWithOverflow"
                                                    TextTrimming="CharacterEllipsis"
                                                    FontSize="150"
                                                    FontWeight="Bold"
                                                    MaxWidth="1500"
                                                    LineStackingStrategy="BlockLineHeight"
                                                    LineHeight="150"
                                                    VerticalAlignment="Center"
                                                    TextAlignment="Center"
                                                    Foreground="White">
                                                    <TextBlock.Style>
                                                        <Style TargetType="TextBlock">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                            <Style.Triggers>
                                                                <!-- Déclencheurs de visibilité -->
                                                                <MultiDataTrigger>
                                                                    <MultiDataTrigger.Conditions>
                                                                        <Condition Binding="{Binding ElementName=FilterImage, Path=Source}" Value="{x:Null}"/>
                                                                    </MultiDataTrigger.Conditions>
                                                                    <Setter Property="Visibility" Value="Visible" />
                                                                </MultiDataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </TextBlock.Style>
                                                </TextBlock>
                                            </Viewbox>

                                            <Grid.Style>
                                                <Style TargetType="Grid">
                                                    <Setter Property="Margin" Value="0" />
                                                    <Setter Property="MaxWidth" Value="1500" />
                                                    <Setter Property="MaxHeight" Value="400" />
                                                    <Setter Property="Visibility" Value="Visible" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding ElementName=FILTER_GRID, Path=Opacity}" Value="1">
                                                            <Setter Property="Effect">
                                                                <Setter.Value>
                                                                    <DropShadowEffect ShadowDepth="2" Color="Black"
                                                                        RenderingBias="Quality" BlurRadius="10"
                                                                        Opacity="1" />
                                                                </Setter.Value>
                                                            </Setter>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Grid.Style>
                                        </Grid>
                                        <Grid x:Name="FILTER_FadeImage">
                                            <Grid.Style>
                                                <Style TargetType="Grid">
                                                    <Setter Property="Margin" Value="0" />
                                                    <!-- <Setter Property="Width" Value="1920" />
                                                    <Setter Property="Height" Value="1080" /> -->
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </Style>
                                            </Grid.Style>
                                        <Image
                                            RenderOptions.BitmapScalingMode="Fant"
                                            RenderTransformOrigin="0.5,0.5"
                                            Stretch="Fill"
                                            Source="{ThemeFile 'Images/backfade.png'}"
                                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch">

                                        </Image>
                                        <StackPanel x:Name="FILTER_GameCount"
                                                VerticalAlignment="Bottom"
                                                Margin="0,0,0,60"
                                                Orientation="Vertical">
                                            <StackPanel x:Name="ReflectedText"
                                                    Orientation="Horizontal"
                                                    HorizontalAlignment="Center">
                                                <StackPanel.Style>
                                                    <Style TargetType="StackPanel">
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding ElementName=FILTER_GRID, Path=Opacity}"
                                                                    Value="1">
                                                                <Setter Property="Tag"
                                                                        Value="Visible"/>
                                                                <Setter Property="Effect">
                                                                    <Setter.Value>
                                                                        <DropShadowEffect ShadowDepth="1"
                                                                                Color="Black"
                                                                                            RenderingBias="Quality"
                                                                                BlurRadius="10"
                                                                                            Opacity="1"/>
                                                                    </Setter.Value>
                                                                </Setter>

                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </StackPanel.Style>
                                                <TextBlock
                                                    Text="{Binding Items.Count, ElementName=PART_ListGameItems}"
                                                    Style="{DynamicResource BottomBarStyle}"
                                                    FontSize="50"
                                                    FontWeight="Bold"
                                                    VerticalAlignment="Bottom"
                                                    Margin="0,0,15,0"/>
                                                <TextBlock
                                                    Text="GAMES"
                                                    Style="{DynamicResource BottomBarStyle}"
                                                    Foreground="GhostWhite"
                                                    VerticalAlignment="Bottom"
                                                    FontWeight="Bold"
                                                    FontSize="50"/>
                                            </StackPanel>
                                            <!-- The object to contain the reflection. -->
                                            <Rectangle
                                                Visibility="{Binding ElementName=ReflectedText, Path=Tag, TargetNullValue=Collapsed}"
                                                DataContext="{Binding ElementName=ReflectedText}"
                                                    Height="{Binding Path=ActualHeight}"
                                                    Width="{Binding Path=ActualWidth}">
                                                <Rectangle.Fill>
                                                    <!-- Creates the reflection. -->
                                                    <VisualBrush Opacity="0.75"
                                                            Stretch="None"
                                                            Visual="{Binding}">
                                                        <VisualBrush.RelativeTransform>
                                                            <!-- Flip the reflection. -->
                                                            <TransformGroup>
                                                                <ScaleTransform ScaleX="1"
                                                                        ScaleY="-1"/>
                                                                <TranslateTransform Y="1"/>
                                                            </TransformGroup>
                                                        </VisualBrush.RelativeTransform>
                                                    </VisualBrush>
                                                </Rectangle.Fill>
                                                <Rectangle.OpacityMask>
                                                    <LinearGradientBrush StartPoint="0.5,0"
                                                            EndPoint="0.5,1">
                                                        <GradientStop Color="#AA000000"
                                                                Offset="0.0"/>
                                                        <GradientStop Color="#33000000"
                                                                Offset="0.5"/>
                                                        <GradientStop Color="#00000000"
                                                                Offset="0.75"/>
                                                    </LinearGradientBrush>
                                                </Rectangle.OpacityMask>
                                                <Rectangle.Effect>
                                                    <BlurEffect Radius="3.5"/>
                                                </Rectangle.Effect>
                                            </Rectangle>
                                        </StackPanel>
                                        </Grid>

                                    </Grid>
                                </Grid>

                                <Grid x:Name="BackgroundImageGrid" FocusVisualStyle="{x:Null}"
                                    Panel.ZIndex="-46">
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <!-- Définissez la couleur de fond souhaitée ici -->
                                            <Setter Property="Background" Value="Black" />
                                            <Setter Property="Opacity" Value="1" />
                                            <Setter Property="VerticalAlignment" Value="Top" />
                                            <Setter Property="HorizontalAlignment" Value="Center" />
                                            <Setter Property="Height" Value="1080" />

                                            <!-- Fond-->
                                            <Setter Property="Grid.Row" Value="0" />
                                            <Setter Property="Grid.RowSpan" Value="4" />
                                            <Setter Property="Grid.ColumnSpan" Value="3" />
                                            <Setter Property="Margin" Value="0,0,0,0" />
                                            <Style.Triggers>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}"
                                                    Value="Visible">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <!-- <ThicknessAnimation
                                                            Storyboard.TargetProperty="Margin"
                                                            Duration="0:0:0.6" From="0,0,0,0" To="0,90,0,0"
                                                            DecelerationRatio="0.5" AccelerationRatio="0.5" /> -->
                                                                <!-- <ThicknessAnimation
                                                            Storyboard.TargetProperty="Margin"
                                                            Duration="0:0:1" From="-20,-20,-20,-20" To="0,0,0,0" /> -->
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                    <DataTrigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <!-- <ThicknessAnimation
                                                            Storyboard.TargetProperty="Margin"
                                                            Duration="0:0:1" From="0,0,0,0" To="-20,-20,-20,-20" /> -->
                                                                <!-- <ThicknessAnimation
                                                            Storyboard.TargetProperty="Margin"
                                                            Duration="0:0:0.6" From="0,90,0,0" To="0,0,0,0"
                                                            AccelerationRatio="0.5" DecelerationRatio="0.5" /> -->
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.ExitActions>
                                                </DataTrigger>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition
                                                            Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}"
                                                            Value="False" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>

                                    <FadeImage x:Name="PART_ImageBackground"
                                        RenderOptions.BitmapScalingMode="Fant"
                                        RenderTransformOrigin="0.5,0.5">
                                        <FadeImage.Style>
                                            <Style TargetType="FadeImage">
                                                <Setter Property="Visibility" Value="Visible" />
                                                <Setter Property="Stretch" Value="UniformToFill" />
                                                <Setter Property="HorizontalAlignment"
                                                    Value="Center" />
                                                <Setter Property="VerticalAlignment" Value="Top" />
                                            </Style>
                                        </FadeImage.Style>
                                    </FadeImage>
                                    <Image x:Name="PART_ImageBackground_Mask"
                                        RenderOptions.BitmapScalingMode="Fant"
                                        RenderTransformOrigin="0.5,0.5"
                                        Stretch="Uniform"
                                        Source="{ThemeFile 'Images/backfade.png'}"
                                        HorizontalAlignment="Center" VerticalAlignment="Center">
                                        <Image.Style>
                                            <Style TargetType="Image">
                                                <Setter Property="Margin" Value="0" />
                                                <Setter Property="Width" Value="1920" />
                                                <Setter Property="Height" Value="1080" />
                                            </Style>
                                        </Image.Style>
                                    </Image>
                                </Grid>


                                <StackPanel x:Name="LogoContainer" Orientation="Horizontal"
                                    Panel.ZIndex="-45">
                                    <StackPanel.Style>
                                        <Style TargetType="StackPanel">
                                            <Setter Property="Opacity" Value="0" />
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Setter Property="Margin" Value="150,0,0,-130" />
                                            <Setter Property="HorizontalAlignment" Value="Left" />
                                            <Setter Property="VerticalAlignment" Value="Center" />
                                            <Setter Property="Grid.Row" Value="1" />
                                            <Setter Property="Grid.ColumnSpan" Value="3" />
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition
                                                            Binding="{Binding ElementName=Id, Path=Opacity}"
                                                            Value="1" />
                                                    </MultiDataTrigger.Conditions>
                                                    <MultiDataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    Duration="0:0:1"
                                                                    From="0" To="1" />
                                                                <ThicknessAnimation
                                                                    Storyboard.TargetProperty="Margin"
                                                                    From="-1800,0,0,-130"
                                                                    To="150,0,0,-130"
                                                                    Duration="0:0:1.2"
                                                                    AccelerationRatio="0.5"
                                                                    DecelerationRatio="0.5" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </MultiDataTrigger.EnterActions>
                                                    <MultiDataTrigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    Duration="0:0:1"
                                                                    From="0" To="1" />
                                                                <ThicknessAnimation
                                                                    Storyboard.TargetProperty="Margin"
                                                                    From="-1800,0,0,-130"
                                                                    To="150,0,0,-130"
                                                                    Duration="0:0:1.2"
                                                                    AccelerationRatio="0.5"
                                                                    DecelerationRatio="0.5" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </MultiDataTrigger.ExitActions>
                                                </MultiDataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}"
                                                    Value="Collapsed">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard FillBehavior="Stop">
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    Duration="0:0:1"
                                                                    To="0" />
                                                                <ThicknessAnimation
                                                                    Storyboard.TargetProperty="Margin"
                                                                    From="70,0,0,160"
                                                                    To="150,0,0,-130"
                                                                    Duration="0:0:1"
                                                                    AccelerationRatio="0.3"
                                                                    DecelerationRatio="0.7" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}"
                                                    Value="Visible">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    Duration="0:0:0"
                                                                    To="0" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}"
                                                    Value="Collapsed">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    Duration="0:0:0"
                                                                    To="1" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding Items.Count, ElementName=PART_ListGameItems}"
                                                    Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}"
                                                    Value="Visible">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>

                                                <DataTrigger
                                                    Binding="{Binding ElementName=Id, Path=Opacity}"
                                                    Value="1">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition
                                                            Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}"
                                                            Value="False" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </StackPanel.Style>
                                    <StackPanel>
                                        <ContentControl
                                            x:Name="ExtraMetadataLoader_LogoLoaderControl">
                                            <ContentControl.Style>
                                                <Style TargetType="ContentControl">
                                                    <Setter Property="Width" Value="600" />
                                                    <Setter Property="MaxHeight" Value="600" />
                                                    <Setter Property="HorizontalAlignment"
                                                        Value="Left" />
                                                    <Setter Property="VerticalAlignment"
                                                        Value="Center" />
                                                    <Style.Triggers>
                                                        <!-- <DataTrigger
                                                            Binding="{Binding ElementName=LogoTrigger, Path=Opacity}"
                                                            Value="1">
                                                            <Setter Property="Visibility"
                                                                Value="Visible" />
                                                        </DataTrigger> -->
                                                        <DataTrigger
                                                            Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}"
                                                            Value="False">
                                                            <Setter Property="Visibility"
                                                                Value="Collapsed" />
                                                        </DataTrigger>
                                                        <DataTrigger
                                                            Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=IsLogoAvailable}"
                                                            Value="False">
                                                            <Setter Property="Visibility"
                                                                Value="Collapsed" />
                                                        </DataTrigger>
                                                        <DataTrigger
                                                            Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}"
                                                            Value="Visible">
                                                            <Setter Property="Visibility"
                                                                Value="Collapsed" />
                                                        </DataTrigger>
                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition
                                                                    Binding="{Binding RelativeSource={RelativeSource Self}, Path=Opacity}"
                                                                    Value="1" />
                                                            </MultiDataTrigger.Conditions>
                                                            <Setter Property="Effect">
                                                                <Setter.Value>
                                                                    <DropShadowEffect
                                                                        ShadowDepth="2" />
                                                                </Setter.Value>
                                                            </Setter>
                                                        </MultiDataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </ContentControl.Style>
                                        </ContentControl>
                                    </StackPanel>
                                </StackPanel>


                                <!--AgeRatings-->
                                <Grid x:Name="AgeRatingsContainer" Grid.Column="5" Grid.Row="1">
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Opacity" Value="0" />
                                            <Setter Property="VerticalAlignment" Value="Bottom" />
                                            <Setter Property="HorizontalAlignment" Value="Right" />
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition
                                                            Binding="{Binding ElementName=Id, Path=Opacity}"
                                                            Value="1" />
                                                    </MultiDataTrigger.Conditions>
                                                    <MultiDataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    BeginTime="0:0:2"
                                                                    Duration="0:0:1.5" To="0.9" />
                                                                <ThicknessAnimation
                                                                    Storyboard.TargetProperty="Margin"
                                                                    BeginTime="0:0:2"
                                                                    Duration="0:0:1"
                                                                    From="0,150,-300,0"
                                                                    To="0,150,0,0"
                                                                    AccelerationRatio="0.5" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </MultiDataTrigger.EnterActions>
                                                    <MultiDataTrigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    Duration="0:0:0"
                                                                    To="0" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </MultiDataTrigger.ExitActions>
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </MultiDataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}"
                                                    Value="False">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right"
                                        VerticalAlignment="Center" Panel.ZIndex="-41"
                                        Margin="0,0,0,0">
                                        <ItemsControlEx
                                            ItemsSource="{Binding SelectedGame.AgeRatings}"
                                            IsTabStop="False" IsEnabled="False" Focusable="False">

                                            <ItemsControlEx.ItemTemplate>
                                                <DataTemplate>
                                                    <Grid HorizontalAlignment="Right"
                                                        VerticalAlignment="Top">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="auto" />
                                                        </Grid.ColumnDefinitions>
                                                        <Border x:Name="RatingIcon"
                                                            Background="Transparent"
                                                            CornerRadius="0"
                                                            Height="160"
                                                            Width="auto"
                                                            Margin="0" Visibility="Visible">
                                                            <Image x:Name="RatingIconImage"
                                                                Grid.Column="0"
                                                                RenderOptions.BitmapScalingMode="Fant"
                                                                SnapsToDevicePixels="True"
                                                                Source="{ThemeFileBinding Name, PathFormat='Icons/AgeRating/{0}.png'}" />
                                                        </Border>
                                                    </Grid>

                                                    <DataTemplate.Triggers>
                                                        <DataTrigger
                                                            Binding="{Binding ElementName=RatingIconImage, Path=Source}"
                                                            Value="{x:Null}">
                                                            <Setter Property="Visibility"
                                                                Value="Collapsed" />
                                                        </DataTrigger>
                                                    </DataTemplate.Triggers>
                                                </DataTemplate>
                                            </ItemsControlEx.ItemTemplate>
                                        </ItemsControlEx>
                                    </StackPanel>
                                </Grid>
                                <Grid Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3"
                                    VerticalAlignment="Center">
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Opacity" Value="0" />
                                            <Setter Property="HorizontalAlignment" Value="Right" />
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition
                                                            Binding="{Binding ElementName=Id, Path=Opacity}"
                                                            Value="1" />
                                                    </MultiDataTrigger.Conditions>
                                                    <MultiDataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    BeginTime="0:0:0.6"
                                                                    Duration="0:0:1"
                                                                    To="1" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </MultiDataTrigger.EnterActions>
                                                    <MultiDataTrigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    Duration="0:0:0"
                                                                    To="0" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </MultiDataTrigger.ExitActions>
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </MultiDataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}"
                                                    Value="False">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <!-- Genres Text -->


                                </Grid>
                                <StackPanel Grid.Column="1" Grid.ColumnSpan="2" Grid.Row="1">
                                    <StackPanel.Style>
                                        <Style TargetType="StackPanel">
                                            <Setter Property="Margin" Value="0,0,0,0" />
                                            <Style.Triggers>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=Trigger, Path=Opacity}"
                                                    Value="1">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    BeginTime="0:0:1"
                                                                    Duration="0:0:1.6"
                                                                    From="0" To="1" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                    <DataTrigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    Duration="0:0:0"
                                                                    From="1" To="0" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.ExitActions>
                                                </DataTrigger>

                                                <DataTrigger
                                                    Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}"
                                                    Value="False">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}"
                                                    Value="Visible">
                                                    <Setter Property="ItemsControl.Visibility"
                                                        Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemFilters, Path=Visibility}"
                                                    Value="Visible">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemFiltersAdditional, Path=Visibility}"
                                                    Value="Visible">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ContentFilterItems, Path=Visibility}"
                                                    Value="Visible">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </StackPanel.Style>

                                </StackPanel>
                                <Grid FocusVisualStyle="{x:Null}" Panel.ZIndex="10">
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Setter Property="Opacity" Value="1" />
                                            <Setter Property="HorizontalAlignment" Value="Left" />
                                            <Setter Property="VerticalAlignment" Value="Top" />
                                            <Setter Property="Grid.Row" Value="0" />
                                            <Setter Property="Grid.ColumnSpan" Value="3" />
                                            <Style.Triggers>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_MainHost, Path=Visibility}"
                                                    Value="Visible">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    BeginTime="0:0:0:5"
                                                                    Duration="0:0:0:5" To="1" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}"
                                                    Value="False">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <StackPanel Orientation="Horizontal">
                                        <StackPanel.Style>
                                            <Style TargetType="StackPanel">
                                                <Setter Property="Margin" Value="20,15,0,0" />
                                                <Style.Triggers>

                                                </Style.Triggers>
                                            </Style>
                                        </StackPanel.Style>

                                    </StackPanel>
                                </Grid>
                                <!--Wallpaper Vertical List-->
                                <Grid x:Name="DetailsPanel"
                                    Grid.Row="1"
                                    Grid.RowSpan="2"
                                    Grid.Column="0">
                                    <GameDetails x:Name="LIST_GameDetails"
                                        Visibility="Collapsed"
                                        HorizontalAlignment="Stretch"
                                        VerticalAlignment="Stretch"
                                        FocusVisualStyle="{x:Null}"
                                        Margin="20,0,20,0"
                                        DataContext="{Binding SelectedGame}">
                                        <GameDetails.Style>
                                            <Style TargetType="{x:Type GameDetails}">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate
                                                            TargetType="{x:Type GameDetails}">
                                                            <DockPanel x:Name="ListDetailsPannel"
                                                                Width="860"
                                                                Margin="20,5,0,0"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Stretch"
                                                                LastChildFill="True">
                                                                <Grid DockPanel.Dock="Top">
                                                                    <Grid Width="640" Height="360"
                                                                        DockPanel.Dock="Top"
                                                                    >
                                                                        <FadeImage
                                                                            x:Name="PART_ImageBackground"
                                                                            RenderOptions.BitmapScalingMode="Fant"
                                                                            Stretch="Uniform"
                                                                            HorizontalContentAlignment="Center"
                                                                            HorizontalAlignment="Center">
                                                                            <FadeImage.Style>
                                                                                <Style
                                                                                    TargetType="FadeImage">
                                                                                    <Style.Resources>
                                                                                        <Storyboard
                                                                                            x:Key="ImageIn"
                                                                                            FillBehavior="Stop">
                                                                                            <DoubleAnimation
                                                                                                Storyboard.TargetProperty="Opacity"
                                                                                                Duration="0:0:1"
                                                                                                From="0.99" To="0.99"/>
                                                                                            <DoubleAnimation
                                                                                                Storyboard.TargetProperty="Opacity"
                                                                                                Duration="0:0:0"
                                                                                                BeginTime="0:0:1"
                                                                                                To="1"/>
                                                                                            <ThicknessAnimation
                                                                                                Storyboard.TargetProperty="Margin"
                                                                                                Duration="0:0:0.6"
                                                                                                From="-90,-100,-1180,-625"
                                                                                                To="0,0,0,0"
                                                                                                DecelerationRatio="0.5"
                                                                                                AccelerationRatio="0.5" />
                                                                                        </Storyboard>
                                                                                    </Style.Resources>
                                                                                    <Style.Triggers>
                                                                                        <MultiDataTrigger>
                                                                                            <MultiDataTrigger.Conditions>
                                                                                                <Condition Binding="{Binding ElementName=LIST_GameDetails, Path=Visibility}" Value="Visible" />
                                                                                            </MultiDataTrigger.Conditions>

                                                                                            <MultiDataTrigger.EnterActions>
                                                                                                <BeginStoryboard
                                                                                                    Storyboard="{StaticResource ImageIn}" />
                                                                                            </MultiDataTrigger.EnterActions>
                                                                                        </MultiDataTrigger>
                                                                                        <DataTrigger
                                                                                            Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}"
                                                                                            Value="Collapsed">
                                                                                            <DataTrigger.EnterActions>
                                                                                                <BeginStoryboard
                                                                                                    Storyboard="{StaticResource ImageIn}" />
                                                                                            </DataTrigger.EnterActions>
                                                                                        </DataTrigger>
                                                                                        <DataTrigger
                                                                                            Binding="{Binding ElementName=PART_ElemGameStatus, Path=Visibility}"
                                                                                            Value="Collapsed">
                                                                                            <DataTrigger.EnterActions>
                                                                                                <BeginStoryboard
                                                                                                    Storyboard="{StaticResource ImageIn}" />
                                                                                            </DataTrigger.EnterActions>
                                                                                        </DataTrigger>

                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </FadeImage.Style>
                                                                        </FadeImage>
                                                                        <!-- Detail bar Video-->
                                                                    <!-- Trailer -->
                                                                    <Grid x:Name="TrailerTrigger">
                                                                        <Grid.Style>
                                                                            <Style TargetType="Grid">
                                                                                <Setter Property="Background" Value="Black" />
                                                                                <Setter Property="Opacity" Value="0" />
                                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                                                <Setter Property="Tag" Value="True"/>
                                                                        <Style.Triggers>
                                                                        <MultiDataTrigger>
                                                                            <MultiDataTrigger.Conditions>
                                                                                <Condition
                                                                                    Binding="{Binding ElementName=PART_ImageBackground, Path=Opacity}"
                                                                                    Value="1" />
                                                                                <Condition
                                                                                    Binding="{Binding ElementName=Id, Path=Opacity}"
                                                                                    Value="1" />
                                                                                <Condition
                                                                                    Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=NewContextVideoAvailable}"
                                                                                    Value="True" />
                                                                            </MultiDataTrigger.Conditions>
                                                                            <MultiDataTrigger.EnterActions>
                                                                                <BeginStoryboard>
                                                                                    <Storyboard>
                                                                                        <DoubleAnimation
                                                                                            Storyboard.TargetProperty="Opacity"
                                                                                            BeginTime="0:0:2" Duration="0:0:1"
                                                                                            To="1" />
                                                                                    </Storyboard>
                                                                                </BeginStoryboard>
                                                                            </MultiDataTrigger.EnterActions>
                                                                            <MultiDataTrigger.ExitActions>
                                                                                <BeginStoryboard>
                                                                                    <Storyboard>
                                                                                        <DoubleAnimation
                                                                                            Storyboard.TargetProperty="Opacity"
                                                                                            Duration="0:0:0" To="0" />
                                                                                    </Storyboard>
                                                                                </BeginStoryboard>
                                                                            </MultiDataTrigger.ExitActions>
                                                                            <Setter Property="Visibility" Value="Visible" />
                                                                        </MultiDataTrigger>
                                                                        <MultiDataTrigger>
                                                                            <MultiDataTrigger.Conditions>
                                                                                <Condition Binding="{Binding ElementName=Sounds_MusicControl, Path=Content.CurrentMusicName}" Value=""/>
                                                                                <!-- <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=StartNoSound}" Value="False" /> -->
                                                                            </MultiDataTrigger.Conditions>
                                                                            <Setter Property="Tag" Value="False" />
                                                                        </MultiDataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                    </Grid.Style>
                                                                    <ContentControl
                                                                        Tag="{Binding Tag, ElementName=TrailerTrigger, NotifyOnTargetUpdated=True}"
                                                                        x:Name="ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound">
                                                                        <Behaviors:Interaction.Triggers>
                                                                            <Behaviors:EventTrigger EventName="TargetUpdated">
                                                                                <Behaviors:Interaction.Behaviors>
                                                                                    <BehaviorsCore:ConditionBehavior>
                                                                                        <BehaviorsCore:ConditionBehavior.Condition>
                                                                                            <BehaviorsCore:ConditionalExpression>
                                                                                                <BehaviorsCore:ConditionalExpression.Conditions>
                                                                                                    <BehaviorsCore:ComparisonCondition
                                                                                                        LeftOperand="{Binding ElementName=ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound, Path=Content.IsPlayerMuted}"
                                                                                                        RightOperand="{Binding Tag, ElementName=TrailerTrigger}"
                                                                                                        Operator="NotEqual" />
                                                                                                    </BehaviorsCore:ConditionalExpression.Conditions>
                                                                                                </BehaviorsCore:ConditionalExpression>
                                                                                            </BehaviorsCore:ConditionBehavior.Condition>
                                                                                        </BehaviorsCore:ConditionBehavior>
                                                                                </Behaviors:Interaction.Behaviors>
                                                                                <Behaviors:InvokeCommandAction
                                                                                    Command="{Binding ElementName=ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound, Path=Content.VideoMuteCommand}" />
                                                                            </Behaviors:EventTrigger>
                                                                        </Behaviors:Interaction.Triggers>

                                                                        <ContentControl.Style>
                                                                            <Style TargetType="ContentControl">
                                                                                <Setter Property="Opacity" Value="0" />
                                                                                <!-- <Setter Property="Background" Value="Black" /> -->
                                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                                                <Setter Property="Margin" Value="0,0,0,0" />
                                                                                <!-- <Setter Property="HorizontalContentAlignment"
                                                                                Value="Stretch" /> -->
                                                                                <Setter Property="VerticalContentAlignment" Value="Stretch" />
                                                                                <Setter Property="HorizontalAlignment" Value="Center" />
                                                                                <Setter Property="VerticalAlignment" Value="Center" />
                                                                                <Style.Triggers>
                                                                                    <MultiDataTrigger>
                                                                                        <MultiDataTrigger.Conditions>
                                                                                            <Condition Binding="{Binding ElementName=TrailerTrigger, Path=Opacity}" Value="1" />
                                                                                        </MultiDataTrigger.Conditions>
                                                                                        <Setter Property="Visibility" Value="Visible" />
                                                                                    </MultiDataTrigger>
                                                                                    <DataTrigger
                                                                                        Binding="{Binding ElementName=Id, Path=Opacity}"
                                                                                        Value="1">
                                                                                        <DataTrigger.EnterActions>
                                                                                            <BeginStoryboard>
                                                                                                <Storyboard>
                                                                                                    <DoubleAnimation
                                                                                                        Storyboard.TargetProperty="Opacity"
                                                                                                        Duration="0:0:0"
                                                                                                        To="1" />
                                                                                                </Storyboard>
                                                                                            </BeginStoryboard>
                                                                                        </DataTrigger.EnterActions>
                                                                                        <DataTrigger.ExitActions>
                                                                                            <BeginStoryboard>
                                                                                                <Storyboard>
                                                                                                    <DoubleAnimation
                                                                                                        Storyboard.TargetProperty="Opacity"
                                                                                                        Duration="0:0:0" To="0" />
                                                                                                </Storyboard>
                                                                                            </BeginStoryboard>
                                                                                        </DataTrigger.ExitActions>
                                                                                    </DataTrigger>
                                                                                    <!-- <DataTrigger
                                                                                        Binding="{Binding ElementName=TrailerTrigger, Path=Opacity}"
                                                                                        Value="1">
                                                                                        <Setter Property="Visibility" Value="Visible" />
                                                                                    </DataTrigger> -->
                                                                                    <DataTrigger
                                                                                        Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}"
                                                                                        Value="Visible">
                                                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </ContentControl.Style>
                                                                    </ContentControl>
                                                                    </Grid>


                                                                </Grid>
                                                                    <!-- Community Score Stars Start -->
                                                                    <Grid x:Name="CommunityScoreStars"
                                                                        Margin="0,0,0,0"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Top"
                                                                    >
                                                                        <Grid.LayoutTransform>
                                                                            <ScaleTransform ScaleX="2"
                                                                                ScaleY="2" />
                                                                        </Grid.LayoutTransform>
                                                                        <TextBlock
                                                                            HorizontalAlignment="Left"
                                                                            VerticalAlignment="Bottom"
                                                                            Width="30"
                                                                            Style="{StaticResource TextBlockAltDetailStyle}"
                                                                            Text="&#xe734;&#xe734;&#xe734;&#xe734;&#xe734;"
                                                                            FontFamily="{DynamicResource FontAltIcoFont}"
                                                                            TextAlignment="left"
                                                                            FontSize="20"
                                                                            TextWrapping="Wrap"
                                                                            Height="100"
                                                                        >
                                                                        </TextBlock>
                                                                        <Grid VerticalAlignment="Bottom"
                                                                            Height="{Binding CommunityScore, FallbackValue=0}">
                                                                            <TextBlock
                                                                                HorizontalAlignment="Left"
                                                                                VerticalAlignment="Bottom"
                                                                                Width="30"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                Text="&#xe735;&#xe735;&#xe735;&#xe735;&#xe735;"
                                                                                FontFamily="{DynamicResource FontAltIcoFont}"
                                                                                TextAlignment="Left"
                                                                                FontSize="20"
                                                                                TextWrapping="Wrap"
                                                                                Height="100">
                                                                            </TextBlock>
                                                                        </Grid>
                                                                    </Grid>
                                                                    <Grid VerticalAlignment="Bottom"
                                                                        HorizontalAlignment="Left"
                                                                        Margin="-8,0,0,-50">
                                                                        <TextBlock
                                                                            VerticalAlignment="Center"
                                                                            HorizontalAlignment="Center"
                                                                            Style="{StaticResource GameTitleHeaderText}"
                                                                            Text="{Binding ReleaseYear, Converter={StaticResource ListToStringConverter}}"
                                                                        >
                                                                            <TextBlock.RenderTransform>
                                                                                <RotateTransform
                                                                                    Angle="-90" />
                                                                            </TextBlock.RenderTransform>
                                                                        </TextBlock>
                                                                    </Grid>
                                                                    <!-- Community Score Stars End -->
                                                                </Grid>
                                                                <StackPanel Orientation="Vertical"
                                                                    HorizontalAlignment="Stretch"
                                                                    DockPanel.Dock="Top"
                                                                    Margin="10,10,10,0">
                                                                    <TextBlock
                                                                        Text="{Binding DisplayName}"
                                                                        Margin="0,2,0,0"
                                                                        HorizontalAlignment="Center"
                                                                        TextAlignment="Center"
                                                                        Style="{StaticResource GameTitleHeaderText}"
                                                                        TextTrimming="CharacterEllipsis"
                                                                        TextWrapping="Wrap"
                                                                    />
                                                                    <Rectangle
                                                                        Fill="{DynamicResource TextAltBrush}"
                                                                        Height="2"
                                                                        HorizontalAlignment="Stretch"
                                                                        Margin="-10,5,-10,0"
                                                                        Opacity="0.4" />
                                                                </StackPanel>
                                                                <DockPanel DockPanel.Dock="Bottom">
                                                                    <TextBlock
                                                                        Style="{StaticResource GameTitleHeaderText}"
                                                                        Text="{Binding Developers[0], Converter={StaticResource ListToStringConverter}}"
                                                                        DockPanel.Dock="Left"
                                                                        Margin="0,10,0,0">
                                                                    </TextBlock>
                                                                    <TextBlock
                                                                        Style="{StaticResource GameTitleHeaderText}"
                                                                        DockPanel.Dock="Right"
                                                                        TextAlignment="Right"
                                                                        Text="{Binding Genres[0], Converter={StaticResource ListToStringConverter}}"
                                                                        VerticalAlignment="Center"
                                                                        Margin="0,10,0,0">
                                                                    </TextBlock>
                                                                </DockPanel>

                                                                <ScrollViewerEx
                                                                    x:Name="PART_ScrollHtmlDescription"
                                                                    FocusVisualStyle="{x:Null}"
                                                                    Margin="20,20,20,20"
                                                                    pbeh:FocusBahaviors.FocusBinding="{Binding ElementName=LIST_GameDetails, Path=IsFocused }"
                                                                    ScrollViewer.VerticalScrollBarVisibility="Auto"
                                                                >
                                                                    <StackPanel Orientation="Vertical"
                                                                        HorizontalAlignment="Stretch">
                                                                        <HtmlTextView
                                                                            x:Name="PART_HtmlDescription"
                                                                            HtmlFontSize="{DynamicResource FontSizeMedium}"
                                                                            HtmlFontFamily="{DynamicResource FontThemeMain}"
                                                                            HtmlForeground="{DynamicResource Description}"
                                                                            LinkForeground="{DynamicResource GlyphColor}"
                                                                            FocusVisualStyle="{x:Null}" />

                                                                        <StackPanel
                                                                            Orientation="Horizontal"
                                                                            HorizontalAlignment="Left"
                                                                            Margin="0,10,0,0">
                                                                            <TextBlock
                                                                                Text="{DynamicResource LOCLibrary}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}" />
                                                                            <TextBlock Text=":"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextAlignment="Left"
                                                                                Margin="10,2,10,0" />
                                                                            <TextBlock
                                                                                Text="{Binding Source}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextTrimming="CharacterEllipsis"
                                                                                TextWrapping="Wrap"
                                                                                MaxWidth="550" />
                                                                        </StackPanel>
                                                                        <StackPanel
                                                                            Orientation="Horizontal"
                                                                            HorizontalAlignment="Left"
                                                                            Margin="0,10,0,0">
                                                                            <TextBlock
                                                                                Text="{DynamicResource LOCGamePlatformTitle}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}" />
                                                                            <TextBlock Text=":"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextAlignment="Left"
                                                                                Margin="10,2,10,0" />
                                                                            <TextBlock
                                                                                Text="{Binding Platforms, Converter={StaticResource ListToStringConverter}}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextTrimming="CharacterEllipsis"
                                                                                MaxWidth="550" />
                                                                        </StackPanel>
                                                                        <StackPanel
                                                                            Orientation="Horizontal"
                                                                            HorizontalAlignment="Left"
                                                                            Margin="0,10,0,0">
                                                                            <TextBlock
                                                                                Text="{DynamicResource LOCCriticScore}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}" />
                                                                            <TextBlock Text=":"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextAlignment="Left"
                                                                                Margin="10,2,10,0" />
                                                                            <TextBlock
                                                                                Text="{Binding CriticScore}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextTrimming="CharacterEllipsis"
                                                                                MaxWidth="550" />
                                                                        </StackPanel>
                                                                        <StackPanel
                                                                            Orientation="Horizontal"
                                                                            HorizontalAlignment="Left"
                                                                            Margin="0,10,0,0">
                                                                            <TextBlock
                                                                                Text="{DynamicResource LOCCommunityScore}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}" />
                                                                            <TextBlock Text=":"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextAlignment="Left"
                                                                                Margin="10,2,10,0" />
                                                                            <TextBlock
                                                                                Text="{Binding CommunityScore}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextTrimming="CharacterEllipsis"
                                                                                MaxWidth="550" />
                                                                        </StackPanel>
                                                                        <StackPanel
                                                                            Orientation="Horizontal"
                                                                            HorizontalAlignment="Left"
                                                                            Margin="0,10,0,0">
                                                                            <TextBlock
                                                                                Text="{DynamicResource LOCTimePlayed}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}" />
                                                                            <TextBlock Text=":"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextAlignment="Left"
                                                                                Margin="10,2,10,0" />
                                                                            <TextBlock
                                                                                Text="{Binding Playtime, Converter={StaticResource PlayTimeToStringConverter}}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextTrimming="CharacterEllipsis"
                                                                                MaxWidth="550" />
                                                                        </StackPanel>
                                                                        <StackPanel
                                                                            Orientation="Horizontal"
                                                                            HorizontalAlignment="Left"
                                                                            Margin="0,10,0,0">
                                                                            <TextBlock
                                                                                Text="{DynamicResource LOCAgeRatingsLabel}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}" />
                                                                            <TextBlock Text=":"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextAlignment="Left"
                                                                                Margin="10,2,10,0" />
                                                                            <TextBlock
                                                                                Text="{Binding AgeRatings, Converter={StaticResource ListToStringConverter}}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextTrimming="CharacterEllipsis"
                                                                                MaxWidth="550" />
                                                                        </StackPanel>
                                                                        <StackPanel
                                                                            Orientation="Horizontal"
                                                                            HorizontalAlignment="Left"
                                                                            Margin="0,10,0,0">
                                                                            <TextBlock
                                                                                Text="{DynamicResource LOCSize}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}" />
                                                                            <TextBlock Text=":"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextAlignment="Left"
                                                                                Margin="10,2,10,0" />
                                                                            <TextBlock
                                                                                Text="{Binding InstallSize, Converter={StaticResource NullableUlongBytesSizeToStringConverter},
                                                                ConverterParameter=' / '}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextTrimming="CharacterEllipsis"
                                                                                MaxWidth="550" />
                                                                        </StackPanel>

                                                                        <StackPanel
                                                                            Orientation="Horizontal"
                                                                            HorizontalAlignment="Left"
                                                                            Margin="0,10,0,0">
                                                                            <TextBlock
                                                                                Text="{DynamicResource LOCGenresLabel}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}" />
                                                                            <TextBlock Text=":"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextAlignment="Left"
                                                                                Margin="10,2,10,0" />
                                                                            <TextBlock
                                                                                Text="{Binding Genres, Converter={StaticResource ListToStringConverter}, ConverterParameter=' / '}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextTrimming="CharacterEllipsis"
                                                                                TextWrapping="Wrap"
                                                                                MaxHeight="200"
                                                                                MaxWidth="550" />
                                                                        </StackPanel>
                                                                        <StackPanel
                                                                            Orientation="Horizontal"
                                                                            HorizontalAlignment="Left"
                                                                            Margin="0,10,0,0">
                                                                            <TextBlock
                                                                                Text="{DynamicResource LOCFeaturesLabel}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}" />
                                                                            <TextBlock Text=":"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextAlignment="Left"
                                                                                Margin="10,2,10,0" />
                                                                            <TextBlock
                                                                                Text="{Binding Features, Converter={StaticResource ListToStringConverter}}"
                                                                                Margin="0,2,0,0"
                                                                                Style="{StaticResource TextBlockDetailStyle}"
                                                                                TextWrapping="Wrap"
                                                                                TextTrimming="CharacterEllipsis"
                                                                                MaxHeight="200"
                                                                                MaxWidth="550" />
                                                                        </StackPanel>
                                                                    </StackPanel>
                                                                </ScrollViewerEx>
                                                            </DockPanel>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>

                                        </GameDetails.Style>
                                    </GameDetails>
                                </Grid>

                                <!--CoverListHorizontal-->
                                <Grid x:Name="GameListContainer">
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Margin" Value="0,2000,0,-2000" />
                                            <Setter Property="Opacity" Value="0" />
                                            <Setter Property="Grid.Row" Value="2" />
                                            <!-- <Setter Property="Grid.RowSpan" Value="2" /> -->
                                            <Setter Property="Grid.ColumnSpan" Value="3" />
                                            <!-- <Setter Property="Background" Value="White" /> -->
                                            <Setter Property="Height" Value="380" />
                                            <Setter Property="Width" Value="1920" />
                                            <Setter Property="Tag" Value="" />
                                            <Setter Property="Effect">
                                                <Setter.Value>
                                                    <DropShadowEffect ShadowDepth="3" BlurRadius="5"
                                                        Direction="250"
                                                        Color="Black" />
                                                </Setter.Value>
                                            </Setter>
                                            <Style.Triggers>

                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_MainHost, Path=Visibility}"
                                                    Value="Visible">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard HandoffBehavior="Compose">
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    BeginTime="0:0:5"
                                                                    Duration="0:0:1.5" From="0"
                                                                    To="1" />
                                                                <ThicknessAnimation
                                                                    Storyboard.TargetProperty="Margin"
                                                                    BeginTime="0:0:6"
                                                                    From="0,0,0,-900"
                                                                    Duration="0:0:1.5"
                                                                    AccelerationRatio="0.3"
                                                                    DecelerationRatio="0.7" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                </DataTrigger>

                                                <!-- HorizontalMode -->
                                                <Trigger Property="Tag" Value="HorizontalMode">
                                                    <Setter Property="Margin" Value="0,2000,0,-2000" />
                                                    <Setter Property="Opacity" Value="0" />
                                                    <Setter Property="Grid.Row" Value="2" />
                                                    <!-- <Setter Property="Grid.RowSpan" Value="2"
                                                    /> -->
                                                    <Setter Property="Grid.ColumnSpan" Value="3" />
                                                    <Setter Property="Width" Value="1920" />
                                                    <Setter Property="Height" Value="380" />
                                                    <!-- <Setter Property="Background" Value="Red"
                                                    /> -->
                                                    <Trigger.EnterActions>
                                                        <BeginStoryboard
                                                            Name="HorizontalModeStoryboard">
                                                            <Storyboard FillBehavior="HoldEnd">
                                                                <ThicknessAnimation
                                                                    Storyboard.TargetProperty="Margin"
                                                                    From="0,0,0,-400"
                                                                    To="0,0,0,0"
                                                                    Duration="0:0:1"
                                                                    DecelerationRatio="0.5" />
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    Duration="0:0:1" From="0" To="1" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.EnterActions>
                                                    <Trigger.ExitActions>
                                                        <RemoveStoryboard
                                                            BeginStoryboardName="HorizontalModeStoryboard" />
                                                    </Trigger.ExitActions>
                                                </Trigger>

                                                <!-- TileMode -->
                                                <Trigger Property="Tag" Value="TileMode">
                                                    <Setter Property="Grid.Row" Value="0" />
                                                    <Setter Property="Grid.RowSpan" Value="3" />
                                                    <Setter Property="Grid.ColumnSpan" Value="2" />
                                                    <Setter Property="HorizontalAlignment"
                                                        Value="Stretch" />
                                                    <Setter Property="VerticalAlignment"
                                                        Value="Stretch" />
                                                    <Setter Property="Height" Value="900" />
                                                    <Setter Property="Width" Value="1600" />
                                                    <Setter Property="Margin" Value="0,2000,0,-2000" />
                                                    <Setter Property="Opacity" Value="0" />
                                                    <Trigger.EnterActions>
                                                        <BeginStoryboard Name="TileModeStoryboard">
                                                            <Storyboard FillBehavior="HoldEnd">
                                                                <ThicknessAnimation
                                                                    Storyboard.TargetProperty="Margin"
                                                                    From="0,-200,0,200"
                                                                    To="0,0,0,0"
                                                                    BeginTime="0:0:0"
                                                                    Duration="0:0:1"
                                                                    DecelerationRatio="0.5" />
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    BeginTime="0:0:0"
                                                                    Duration="0:0:1" From="0" To="1" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.EnterActions>
                                                    <Trigger.ExitActions>
                                                        <RemoveStoryboard
                                                            BeginStoryboardName="TileModeStoryboard" />
                                                    </Trigger.ExitActions>
                                                </Trigger>

                                                <!-- ListMode -->
                                                <Trigger Property="Tag" Value="ListMode">
                                                    <Setter Property="Grid.Row" Value="1" />
                                                    <!-- <Setter Property="Grid.RowSpan" Value="2" /> -->
                                                    <Setter Property="Grid.ColumnSpan" Value="2" />
                                                    <Setter Property="Height" Value="920" />
                                                    <Setter Property="Width" Value="900" />
                                                    <Setter Property="VerticalAlignment" Value="Top" />
                                                    <Setter Property="Opacity" Value="0" />
                                                    <Setter Property="Margin"
                                                        Value="-1920,0,1920,-550" />
                                                    <Setter Property="Opacity" Value="0" />
                                                    <Trigger.EnterActions>
                                                        <BeginStoryboard Name="ListModeStoryboard">
                                                            <Storyboard FillBehavior="HoldEnd">
                                                                <ThicknessAnimation
                                                                    Storyboard.TargetProperty="Margin"
                                                                    From="850,0,-670,-550"
                                                                    To="850,0,-100,-570"
                                                                    Duration="0:0:1"
                                                                    DecelerationRatio="0.5" />
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    Duration="0:0:1" From="0" To="1" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.EnterActions>
                                                    <Trigger.ExitActions>
                                                        <RemoveStoryboard
                                                            BeginStoryboardName="ListModeStoryboard" />
                                                    </Trigger.ExitActions>
                                                </Trigger>

                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>

                                    <ListBoxEx x:Name="PART_ListGameItemsAlt"
                                        Background="Transparent" BorderThickness="0"
                                        Margin="-800,0,0,0"
                                        BorderBrush="Transparent"
                                        FocusVisualStyle="{x:Null}"
                                        Visibility="Collapsed"
                                        KeyboardNavigation.DirectionalNavigation="Once"
                                        VirtualizingStackPanel.IsVirtualizing="True"
                                        VirtualizingStackPanel.VirtualizationMode="Recycling"
                                        VirtualizingStackPanel.ScrollUnit="Pixel"
                                        ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                        ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                        pbeh:FocusBahaviors.FocusBinding="{Binding GameListFocused}"
                                        pbeh:FocusBahaviors.OnVisibilityFocus="True"
                                        ItemTemplate="{StaticResource DetailListGameItemTemplate}"
                                        ItemContainerStyle="{DynamicResource DetailListGameItemContainerStyle}"
                                        SelectedItem="{Binding SelectedGame}"
                                        ItemsSource="{Binding GamesView.CollectionView}"
                                    >
                                        <ListBoxEx.Resources>
                                            <Style TargetType="ScrollViewer">
                                                <Setter Property="Margin" Value="800,0,0,0" />
                                            </Style>
                                        </ListBoxEx.Resources>
                                        <ListBoxEx.InputBindings>
                                            <!-- For keybinding:
                                                 Enter => always Start game
                                                 Menu => equal swapable Gamepad Run (X)
                                                 Details => equal swapable Gamepad Details (A)
                                            -->

                                        </ListBoxEx.InputBindings>
                                    </ListBoxEx>


                                    <Grid x:Name="T_ListGameItemsContainer">
                                        <ListBoxEx x:Name="PART_ListGameItems"
                                            Background="Transparent" BorderThickness="0"
                                            BorderBrush="Transparent"
                                            FocusVisualStyle="{x:Null}"
                                            KeyboardNavigation.DirectionalNavigation="Once"
                                            VirtualizingStackPanel.IsVirtualizing="True"
                                            ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                            ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                                        </ListBoxEx>
                                    </Grid>

                                </Grid>

                                <TextBlock
                                    x:Name="NoGameText"
                                    Grid.RowSpan="5" Grid.ColumnSpan="3"
                                    FontSize="{DynamicResource FontSizeLarge}"
                                    Text="{DynamicResource LOCNoGamesFound}"
                                    TextAlignment="Center" HorizontalAlignment="Center"
                                    VerticalAlignment="Center">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock"
                                            BasedOn="{StaticResource ThemeTextBlockBaseStyle}">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Setter Property="Opacity" Value="0" />
                                            <Setter Property="Margin" Value="0,0,0,0" />
                                            <Style.Triggers>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ViewHost, Path=Opacity}"
                                                    Value="1">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    BeginTime="0:0:0.5"
                                                                    Duration="0:0:0.5" From="0"
                                                                    To="1" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                    <DataTrigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    Duration="0:0:0"
                                                                    From="0" To="0" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.ExitActions>
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding Items.Count, ElementName=PART_ListGameItems}"
                                                    Value="0">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>

                                <Border Panel.ZIndex="10">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="CornerRadius" Value="0" />
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Setter Property="Background" Value="Transparent" />
                                            <Setter Property="Grid.Row" Value="1" />
                                            <Setter Property="Grid.RowSpan" Value="2" />
                                            <Setter Property="Grid.Column" Value="1" />
                                            <Setter Property="Grid.ColumnSpan" Value="1" />
                                            <Style.Triggers>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemFilters, Path=Visibility}"
                                                    Value="Visible">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemFiltersAdditional, Path=Visibility}"
                                                    Value="Visible">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ContentFilterItems, Path=Visibility}"
                                                    Value="Visible">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                </Border>

                                <Border Panel.ZIndex="10">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="CornerRadius" Value="0" />
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Setter Property="Background"
                                                Value="{DynamicResource FilterOverlayBrush}" />
                                            <Setter Property="Grid.Row" Value="0" />
                                            <Setter Property="Grid.RowSpan" Value="5" />
                                            <Setter Property="Grid.Column" Value="0" />
                                            <Setter Property="Grid.ColumnSpan" Value="3" />
                                            <Style.Triggers>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemFilters, Path=Visibility}"
                                                    Value="Visible">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemFiltersAdditional, Path=Visibility}"
                                                    Value="Visible">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ContentFilterItems, Path=Visibility}"
                                                    Value="Visible">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                </Border>

                                <Border Background="{DynamicResource OverlayMenu}" CornerRadius="0"
                                    Height="70" VerticalAlignment="Top" HorizontalAlignment="Right"
                                    Panel.ZIndex="10">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="CornerRadius" Value="0" />
                                            <Setter Property="Margin" Value="0,0,20,0" />
                                            <Setter Property="Grid.Row" Value="1" />
                                            <Setter Property="Grid.ColumnSpan" Value="3" />
                                            <Style.Triggers>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}"
                                                    Value="False">
                                                    <Setter Property="Margin" Value="0,20,20,0" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                    <StackPanel x:Name="PART_ElemProgressIndicator"
                                        Orientation="Horizontal"
                                        Grid.Column="3" VerticalAlignment="Center" Panel.ZIndex="10">
                                        <TextBlock x:Name="PART_TextProgressTooltip"
                                            Margin="15,0,15,0" FontSize="20"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource ThemeTextBlockBaseStyle}">
                                            <TextBlock.Effect>
                                                <DropShadowEffect ShadowDepth="1" Color="Black"
                                                    RenderingBias="Quality" BlurRadius="0"
                                                    Opacity="0.8" />
                                            </TextBlock.Effect>
                                        </TextBlock>
                                        <ContentControl Style="{DynamicResource ProgressIndicator}"
                                            Focusable="False"
                                            Height="38" Width="38" VerticalAlignment="Center"
                                            Margin="10,0,15,0" />
                                    </StackPanel>
                                </Border>
                                <!--NombredeJeuxfiltrer-->
                                <Border Background="Transparent" CornerRadius="0"
                                    Height="60" VerticalAlignment="Bottom"
                                    HorizontalAlignment="Right"
                                    Panel.ZIndex="10">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="Margin" Value="0,40,20,-30" />
                                            <Setter Property="Opacity" Value="0" />
                                            <Setter Property="Grid.Row" Value="2" />
                                            <Setter Property="Grid.ColumnSpan" Value="4" />
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Setter Property="Effect">
                                                <Setter.Value>
                                                    <DropShadowEffect ShadowDepth="3" />
                                                </Setter.Value>
                                            </Setter>
                                            <Style.Triggers>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_MainHost, Path=Visibility}"
                                                    Value="Visible">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation
                                                                    Storyboard.TargetProperty="Opacity"
                                                                    BeginTime="0:0:1"
                                                                    Duration="0:0:0.5" To="1" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                </DataTrigger>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}"
                                                    Value="False">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                </Border>

                                <Grid Background="Transparent">
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Setter Property="Opacity" Value="1" />
                                            <Setter Property="Grid.Row" Value="3" />
                                            <Setter Property="Grid.ColumnSpan" Value="3" />
                                            <Style.Triggers>

                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="80" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="20" />
                                    </Grid.ColumnDefinitions>


                                    <StackPanel Grid.ColumnSpan="2" x:Name="PART_ElemSearchActive"
                                        VerticalAlignment="Center" HorizontalAlignment="Stretch"
                                        Margin="70,20,0,0" Orientation="Horizontal"
                                        Panel.ZIndex="10">
                                        <TextBlock FontSize="18" TextAlignment="Center"
                                            Style="{DynamicResource ThemeTextBlockBaseStyle}"
                                            Text="{DynamicResource LOCGameListSearchResultsS}" />
                                        <TextBlock Foreground="White"
                                            TextAlignment="Center" FontSize="18" Margin="5,0,0,0"
                                            Style="{DynamicResource ThemeTextBlockBaseStyle}"
                                            Text="{Binding AppSettings.Fullscreen.FilterSettings.Name}" />
                                        <StackPanel.Effect>
                                            <DropShadowEffect ShadowDepth="1" Color="Black"
                                                RenderingBias="Quality" BlurRadius="0" Opacity="0.8" />
                                        </StackPanel.Effect>
                                    </StackPanel>
                                    <TextBlock Grid.ColumnSpan="2"
                                        x:Name="PART_ElemExtraFilterActive"
                                        FontSize="18" Margin="70,50,0,0"
                                        VerticalAlignment="Top" HorizontalAlignment="Stretch"
                                        TextAlignment="Center"
                                        Style="{DynamicResource ThemeTextBlockBaseStyle}"
                                        Text="{DynamicResource LOCGameListExtraFilteredD}"
                                        Panel.ZIndex="10">
                                        <TextBlock.Effect>
                                            <DropShadowEffect ShadowDepth="1" Color="Black"
                                                RenderingBias="Quality" BlurRadius="0" Opacity="0.8" />
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>
                                <Grid x:Name="BottomButtonPanel" Panel.ZIndex="1000" Grid.Row="4" Grid.ColumnSpan="3"

                                    Height="60">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="20" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Background" Value="{DynamicResource TopBarBackgroundBrush}"/>
                                            <Style.Triggers>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}"
                                                    Value="Visible">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>

                                    </Grid.Style>

                                    <ButtonEx x:Name="HELP_ButtonMenu"
                                        Style="{DynamicResource ButtonBottomMenu}"
                                        InputHint="{DynamicResource ButtonPromptBack}"
                                        Command="{Binding OpenMainMenuCommand}"
                                        Content="{DynamicResource LOCApplicationMenu}"
                                        Grid.Column="0"/>

                                    <StackPanel Grid.Column="2" Orientation="Horizontal"
                                        VerticalAlignment="Center">

                                        <ButtonEx x:Name="HELP_ButtonConfirm"
                                            InputHint="{Binding ElementName=GAMEPAD_Confirm, Path=Tag}"

                                            Content="{DynamicResource LOCSelect}"
                                            Command="{Binding ElementName=ThemeOptions_Command, Path=Content.Toggle}"
                                            CommandParameter="{Binding (FocusManager.FocusedElement), RelativeSource={RelativeSource AncestorType={x:Type Window}}}"
                                        >
                                            <ButtonEx.Style>
                                                <Style TargetType="ButtonEx" BasedOn="{StaticResource ButtonBottomMenu}">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </Style>
                                            </ButtonEx.Style>
                                        </ButtonEx>

                                        <ButtonEx x:Name="HELP_ButtonCancel"
                                            InputHint="{Binding ElementName=GAMEPAD_Cancel, Path=Tag}"
                                            Content="{DynamicResource LOCCancelLabel}"
                                        >
                                            <ButtonEx.Style>
                                                <Style TargetType="ButtonEx" BasedOn="{StaticResource ButtonBottomMenu}">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </Style>
                                            </ButtonEx.Style>
                                        </ButtonEx>

                                        <ButtonEx x:Name="HELP_ButtonHideFilter"
                                            Style="{DynamicResource ButtonBottomMenu}"
                                            InputHint="{Binding ElementName=GAMEPAD_Confirm, Path=Tag}"
                                            Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                            CommandParameter="{Binding ElementName=FILTER_Hide}"
                                            Content="{DynamicResource LOCSelect}" />

                                        <!--Install-->

                                        <StackPanel x:Name="HELP_GameButtons"
                                            Orientation="Horizontal">

                                            <Border x:Name="HELP_ButtonInstall" >
                                                <ButtonEx x:Name="PART_ButtonInstall"
                                                    Style="{DynamicResource ButtonBottomMenu}"
                                                    Content="{DynamicResource LOCInstallGame}" />
                                            </Border>

                                            <!--Play-->
                                            <Border x:Name="HELP_ButtonPlay" >
                                                <ButtonEx x:Name="PART_ButtonPlay"
                                                    Style="{DynamicResource ButtonBottomMenu}"
                                                    Content="{DynamicResource LOCPlayGame}" />
                                            </Border>

                                            <!--Details-->
                                            <Border x:Name="HELP_ButtonDetails" >
                                                <ButtonEx x:Name="PART_ButtonDetails"
                                                    Style="{DynamicResource ButtonBottomMenu}"
                                                    Content="{DynamicResource LOCGameDetails}" />
                                            </Border>

                                            <ButtonEx x:Name="HELP_ButtonShowFilter"
                                                Style="{DynamicResource ButtonBottomMenu}"
                                                InputHint="{Binding ElementName=GAMEPAD_Filter, Path=Tag}"
                                                Command="{Binding Content.TouchTag, ElementName=ThemeOptions_Command}"
                                                CommandParameter="{Binding ElementName=FILTER_Show}"
                                                Content="{DynamicResource LOCBackLabel}" />

                                            <!--Options-->
                                            <ButtonEx x:Name="PART_ButtonGameOptions"
                                                Style="{DynamicResource ButtonBottomMenu}"
                                                Content="{DynamicResource LOCActionsLabel}" />
                                            <!--Search-->
                                            <ButtonEx x:Name="PART_ButtonSearch"
                                                Style="{DynamicResource ButtonBottomMenu}"
                                                Content="{DynamicResource LOCSearchLabel}" />
                                        </StackPanel>

                                    </StackPanel>
                                    <TextBlock x:Name="TextClock"
                                        Style="{DynamicResource ThemeTextBlockBaseStyle}"
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Right"
                                        Margin="0,0,30,0"
                                        Text="{Binding CurrentTime.Time, Mode=OneWay}"
                                        Grid.Column="4">
                                    </TextBlock>
                                </Grid>
                            </Grid>  <!--
                            Control grid-->
                        </Grid>

                        <StackPanel Grid.Row="0" HorizontalAlignment="Left" VerticalAlignment="Top"
                            Height="10"
                            Width="10" Focusable="False">
                            <TextBlock x:Name="Id"
                                Text="{Binding SelectedGame.Id, NotifyOnTargetUpdated=True}"
                                Foreground="Transparent">
                                <TextBlock.Triggers>
                                    <EventTrigger RoutedEvent="Binding.TargetUpdated">
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                    Duration="0:0:0" To="0" />
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                    Duration="0:0:0.01"
                                                    From="0" To="1" BeginTime="0:0:0" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </TextBlock.Triggers>
                            </TextBlock>
                            <TextBlock x:Name="Trigger"
                                Text="{Binding SelectedGame.Id, NotifyOnTargetUpdated=True}"
                                Foreground="Transparent">
                                <TextBlock.Triggers>
                                    <EventTrigger RoutedEvent="Binding.TargetUpdated">
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                    Duration="0:0:0" To="0" />
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                    Duration="0:0:0.1"
                                                    From="0" To="1" BeginTime="0:0:3" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </TextBlock.Triggers>
                            </TextBlock>
                            <TextBlock x:Name="TrailerTrigger"
                                Text="{Binding SelectedGame.Id, NotifyOnTargetUpdated=True}"
                                Foreground="Transparent">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Visibility" Value="Hidden" />
                                        <Setter Property="Opacity" Value="1" />
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition
                                                        Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}"
                                                        Value="True" />
                                                    <Condition
                                                        Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}"
                                                        Value="Visible" />
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="Opacity"
                                                                Duration="0:0:0"
                                                                From="1" To="0" />
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="Opacity"
                                                                BeginTime="0:0:0"
                                                                Duration="0:0:0.3" To="1" />
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </StackPanel>


                        <Grid x:Name="FilterGrid" HorizontalAlignment="Left" Margin="50,10,0,10"
                            Background="Transparent">
                            <Border Background="{DynamicResource OverlayMenu}" CornerRadius="0">
                                <Border.Effect>
                                    <DropShadowEffect ShadowDepth="1" Color="White"
                                        RenderingBias="Quality" BlurRadius="5" />
                                </Border.Effect>
                                <Grid Background="Transparent">
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Focusable" Value="False" />
                                            <Style.Triggers>
                                                <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemFilters, Path=Visibility}"
                                                    Value="Visible">
                                                    <Setter Property="Focusable" Value="True" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <Filters x:Name="PART_ElemFilters"
                                        Margin="10,-20,0,0"
                                        KeyboardNavigation.DirectionalNavigation="Cycle"
                                        KeyboardNavigation.TabNavigation="Cycle"
                                        Focusable="False" Background="{DynamicResource OverlayMenu}" />
                                    <FiltersAdditional x:Name="PART_ElemFiltersAdditional"
                                        Margin="10,-20,0,0"
                                        KeyboardNavigation.DirectionalNavigation="Cycle"
                                        KeyboardNavigation.TabNavigation="Cycle"
                                        Focusable="False" Background="{DynamicResource OverlayMenu}" />
                                    <ContentControl x:Name="PART_ContentFilterItems"
                                        Margin="10,-20,0,0"
                                        KeyboardNavigation.DirectionalNavigation="Cycle"
                                        KeyboardNavigation.TabNavigation="Cycle"
                                        Focusable="False" Background="{DynamicResource OverlayMenu}" />
                                </Grid>
                            </Border>
                        </Grid>

                        <GameDetails x:Name="PART_ElemGameDetails" Grid.RowSpan="5"
                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
                        <GameStatus x:Name="PART_ElemGameStatus" Grid.RowSpan="5"
                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
                        <CheckBoxEx x:Name="MainBackgroundImageButton" Margin="0,0,0,0" Height="50"
                            Width="50"
                            IsChecked="{Settings Fullscreen.EnableMainBackgroundImage, Mode=TwoWay}"
                            Style="{DynamicResource MainBackgroundImageButton}" Visibility="Hidden"
                            Focusable="False" />


                        <MediaElement x:Name="ProgramUpdateChime"
                            Source="{ThemeFile 'audio/ProgramUpdate.mp3'}"
                            MediaElementBehaviors.Repeat="False">
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual" />
                                    <Setter Property="UnloadedBehavior" Value="Close" />
                                    <Style.Triggers>
                                        <DataTrigger
                                            Binding="{Binding ElementName=PART_ButtonProgramUpdate, Path=Visibility}"
                                            Value="Visible">
                                            <Setter Property="LoadedBehavior" Value="Play" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="NotificationsChime"
                            Source="{ThemeFile 'audio/Notification.mp3'}"
                            MediaElementBehaviors.Repeat="False">
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual" />
                                    <Setter Property="UnloadedBehavior" Value="Close" />
                                    <Style.Triggers>
                                        <DataTrigger
                                            Binding="{Binding ElementName=PART_ButtonNotifications, Path=Visibility}"
                                            Value="Visible">
                                            <Setter Property="LoadedBehavior" Value="Play" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="DummySilentChime" ScrubbingEnabled="True"
                            Source="{ThemeFile 'audio/DummySilentChime.mp3'}"
                            MediaElementBehaviors.Repeat="True">
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="Visibility" Value="Visible" />
                                    <Style.Triggers>
                                        <DataTrigger
                                            Binding="{SettingsBinding Fullscreen.IsMusicMuted}"
                                            Value="True">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>
                    </Grid>

                    <ControlTemplate.Triggers>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Settings Fullscreen.ShowGameTitles}"
                                    Value="True" />
                                <Condition Binding="{Settings Fullscreen.HorizontalLayout}"
                                    Value="False" />
                            </MultiDataTrigger.Conditions>
                            <Setter TargetName="ChangeViewButton" Property="Visibility"
                                Value="Collapsed" />
                            <Setter TargetName="ChangeDetailsButton" Property="Visibility"
                                Value="Visible" />
                            <Setter TargetName="T_ListGameItemsContainer" Property="Visibility"
                                Value="Collapsed" />
                            <Setter TargetName="PART_ListGameItemsAlt" Property="Visibility"
                                Value="Visible" />
                            <Setter TargetName="LIST_GameDetails" Property="Visibility"
                                Value="Visible" />

                            <!-- need to perevent flasing on list Mode-->
                            <MultiDataTrigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard TargetName="PART_ListGameItemsAlt"
                                        TargetProperty="Opacity" FillBehavior="HoldEnd">
                                        <DoubleAnimation Duration="0:0:0" To="1" BeginTime="0:0:0.1" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </MultiDataTrigger.EnterActions>
                            <MultiDataTrigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard TargetName="PART_ListGameItemsAlt"
                                        TargetProperty="Opacity" FillBehavior="HoldEnd">
                                        <DoubleAnimation Duration="0:0:0" To="0" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </MultiDataTrigger.ExitActions>

                        </MultiDataTrigger>

                        <!-- Modes -->
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Settings Fullscreen.HorizontalLayout}"
                                    Value="True" />
                                <Condition
                                    Binding="{Binding ElementName=PART_ElemGameDetails,
                                    Path=Visibility}"
                                    Value="Collapsed" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="Tag" Value="HorizontalMode"
                                TargetName="GameListContainer" />
                        </MultiDataTrigger>

                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Settings Fullscreen.ShowGameTitles}"
                                    Value="False" />
                                <Condition Binding="{Settings Fullscreen.HorizontalLayout}"
                                    Value="False" />
                                <Condition
                                    Binding="{Binding ElementName=PART_ElemGameDetails,
                                    Path=Visibility}"
                                    Value="Collapsed" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="Tag" Value="TileMode" TargetName="GameListContainer" />
                        </MultiDataTrigger>

                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Settings Fullscreen.ShowGameTitles}"
                                    Value="True" />
                                <Condition Binding="{Settings Fullscreen.HorizontalLayout}"
                                    Value="False" />
                                <Condition
                                    Binding="{Binding ElementName=PART_ElemGameDetails,
                                    Path=Visibility}"
                                    Value="Collapsed" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="Tag" Value="ListMode" TargetName="GameListContainer" />
                        </MultiDataTrigger>

                        <DataTrigger Binding="{Binding ElementName=FILTER_Visible, Path=Visibility}"
                            Value="Visible">
                            <DataTrigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard Storyboard.TargetName="FILTER_GRID" FillBehavior="HoldEnd">
                                        <ObjectAnimationUsingKeyFrames
                                            Storyboard.TargetProperty="Visibility">
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames
                                            Storyboard.TargetProperty="IsEnabled">
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                Value="{StaticResource True}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames
                                            Storyboard.TargetName="FILTER_BackgroundImage"
                                            Storyboard.TargetProperty="Visibility">
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames
                                            Storyboard.TargetName="FILTER_FadeImage"
                                            Storyboard.TargetProperty="Visibility">
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ThicknessAnimation
                                            Storyboard.TargetProperty="Margin"
                                            Duration="0:0:0.3"
                                            To="0,0,0,0"
                                            DecelerationRatio="0.3"
                                            AccelerationRatio="0.7" />
                                        <DoubleAnimation
                                            Storyboard.TargetName="FILTER_BackgroundImage"
                                            Storyboard.TargetProperty="Opacity"
                                            From="0.1" To="1"
                                            BeginTime="0:0:0"
                                            Duration="0:0:0.3" />
                                        <DoubleAnimation
                                            Storyboard.TargetProperty="Opacity"
                                            From="0.99" To="1"
                                            BeginTime="0:0:0"
                                            Duration="0:0:0.3" />

                                    </Storyboard>
                                </BeginStoryboard>
                            </DataTrigger.EnterActions>
                            <DataTrigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard Storyboard.TargetName="FILTER_GRID" FillBehavior="HoldEnd">
                                        <ObjectAnimationUsingKeyFrames
                                            Storyboard.TargetProperty="IsEnabled">
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0.5"
                                                Value="{StaticResource False}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimation
                                            Storyboard.TargetProperty="Opacity"
                                            From="1" To="0.99"
                                            BeginTime="0:0:0"
                                            Duration="0:0:0.3" />
                                        <DoubleAnimation
                                            Storyboard.TargetName="FILTER_BackgroundImage"
                                            Storyboard.TargetProperty="Opacity"
                                            From="1" To="0.1"
                                            BeginTime="0:0:0"
                                            Duration="0:0:0.3" />
                                        <ThicknessAnimation
                                            Storyboard.TargetProperty="Margin"
                                            Duration="0:0:0.4"
                                            To="0,10,0,1000"
                                            DecelerationRatio="0.3"
                                            AccelerationRatio="0.7" />

                                        <ObjectAnimationUsingKeyFrames
                                            Storyboard.TargetName="FILTER_BackgroundImage"
                                            Storyboard.TargetProperty="Visibility">
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0.4"
                                                Value="{x:Static Visibility.Collapsed}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames
                                            Storyboard.TargetName="FILTER_FadeImage"
                                            Storyboard.TargetProperty="Visibility">
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0.4"
                                                Value="{x:Static Visibility.Collapsed}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </BeginStoryboard>
                            </DataTrigger.ExitActions>
                        </DataTrigger>

                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition
                                    Binding="{Binding ElementName=FILTER_GRID, Path=Visibility}"
                                    Value="Visible" />
                                <Condition Binding="{Binding ElementName=FILTER_GRID, Path=Opacity}"
                                    Value="1" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="Visibility" Value="Collapsed" TargetName="GameListContainer" />
                            <Setter Property="Visibility" Value="Collapsed" TargetName="DetailsPanel" />
                            <Setter Property="Visibility" Value="Collapsed" TargetName="NoGameText" />
                            <Setter Property="Visibility" Value="Collapsed" TargetName="BackgroundImageGrid" />
                            <Setter Property="Visibility" Value="Collapsed" TargetName="AgeRatingsContainer" />
                            <Setter Property="Visibility" Value="Collapsed" TargetName="LogoContainer" />
                            <Setter Property="IsEnabled" Value="True" TargetName="FILTER_GRID" />

                        </MultiDataTrigger>

                        <DataTrigger Binding="{Binding ElementName=FILTER_Visible, Path=Visibility}" Value="Visible">
                            <Setter Property="Visibility" Value="Collapsed" TargetName="HELP_GameButtons" />
                            <Setter Property="Visibility" Value="Collapsed" TargetName="HELP_ButtonShowFilter" />
                            <Setter Property="Visibility" Value="Visible" TargetName="HELP_ButtonHideFilter" />
                            <Setter Property="Focusable" Value="False" TargetName="PART_ButtonMainMenu" />
                            <Setter Property="Visibility" Value="Collapsed" TargetName="ItemsFilterPresets" />
                            <Setter Property="Visibility" Value="Collapsed" TargetName="ChangeViewButton" />
                            <Setter Property="Visibility" Value="Collapsed" TargetName="ChangeDetailsButton" />
                            <Setter Property="Focusable" Value="False" TargetName="PART_ButtonNotifications" />
                        </DataTrigger>

                        <!-- Workaroud of swapped confirmation and button is focused -->
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding ElementName=TopButtonPanel, Path=IsKeyboardFocusWithin }" Value="True" />
                                <Condition Binding="{Settings Fullscreen.SwapConfirmCancelButtons}" Value="True" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="Visibility" Value="Collapsed" TargetName="HELP_ButtonShowFilter" />
                        </MultiDataTrigger>

                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding ElementName=TopButtonPanel, Path=IsKeyboardFocusWithin }" Value="True" />
                                <Condition Binding="{Settings Fullscreen.SwapStartDetailsAction}" Value="True" />
                                <Condition Binding="{Settings Fullscreen.SwapConfirmCancelButtons}" Value="False" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="Visibility" Value="Collapsed" TargetName="HELP_ButtonPlay" />
                            <Setter Property="Visibility" Value="Collapsed" TargetName="HELP_ButtonInstall" />
                        </MultiDataTrigger>

                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding ElementName=TopButtonPanel, Path=IsKeyboardFocusWithin }" Value="True" />
                                <Condition Binding="{Settings Fullscreen.SwapStartDetailsAction}" Value="False" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="Visibility" Value="Collapsed" TargetName="HELP_ButtonDetails" />
                        </MultiDataTrigger>

                        <!-- <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding ElementName=TopButtonPanel, Path=IsKeyboardFocusWithin }" Value="True" />
                                <Condition Binding="{Settings Fullscreen.SwapConfirmCancelButtons}" Value="True" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="Visibility" Value="Collapsed" TargetName="PART_ButtonPlay" />
                            <Setter Property="Visibility" Value="Collapsed" TargetName="PART_ButtonInstall" />
                            <Setter Property="Visibility" Value="Visible" TargetName="HELP_ButtonConfirm" />
                        </MultiDataTrigger>
 -->

                        <DataTrigger Binding="{Binding ElementName=TopButtonPanel, Path=IsKeyboardFocusWithin}" Value="True">
                            <Setter Property="Visibility" Value="Visible" TargetName="HELP_ButtonConfirm" />
                        </DataTrigger>

                        <DataTrigger Binding="{Binding ElementName=FILTER_Visible, Path=Visibility}" Value="Collapsed">
                            <Setter Property="Visibility" Value="Visible" TargetName="HELP_GameButtons" />
                            <Setter Property="Visibility" Value="Collapsed" TargetName="HELP_ButtonHideFilter" />
                        </DataTrigger>

                        <DataTrigger Binding="{Binding ElementName=PART_ViewHost, Path=IsKeyboardFocusWithin }" Value="False">
                            <Setter Property="Visibility" Value="Collapsed" TargetName="HELP_GameButtons" />
                            <Setter Property="Visibility" Value="Collapsed" TargetName="HELP_ButtonMenu" />
                            <Setter Property="Visibility" Value="Collapsed" TargetName="HELP_ButtonHideFilter" />
                            <Setter Property="Visibility" Value="Visible" TargetName="HELP_ButtonConfirm" />
                            <Setter Property="Visibility" Value="Visible" TargetName="HELP_ButtonCancel" />
                        </DataTrigger>

                        <DataTrigger Binding="{Binding ChildOpened}" Value="True">
                            <Setter TargetName="BottomButtonPanel" Property="Background" Value="#DD000000"/>
                        </DataTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>